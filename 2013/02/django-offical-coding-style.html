<!DOCTYPE html>
<html lang="zh"  prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml" class="han-init">
<head>
    <title>[django]官方编码规范 - mozillazg's Blog</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- share.css -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css">


    <link href="https://mozillazg.com/favicon.ico" rel="icon">

<link rel="canonical" href="https://mozillazg.com/2013/02/django-offical-coding-style.html">

        <meta name="author" content="mozillazg" />
        <meta name="keywords" content="django,django,python" />
    <meta name="description" content="请以最新的官方英文版为准：https://docs.djangoproject.com/en/dev/internals/contributing/writing-code/coding-style/ 编码风格 当编写 Django 代码时，请遵循下列编码规范。 Python 风格 除非另有规定，否则请遵循 PEP 8 风格指南。 你可以使用类似 pep8 的工具检查你的代码， 但是，请记住 PEP 8 只是个指南，并非强制约束，因此应当以你所处项目/团队的风格为主。 一个比较大的例外就是，PEP 8 规定代码行长最长不能超过 79 个字符。问题是现在是 21 世纪了，我们有高分辨率的显示器可以显示超过 79 个字符的代码行。如果这这个约定让代码看起来很丑或难以阅读的话，那么就没必要限制行长不超过 79 个字符。 使用4个空格进行缩进。 使用下划线而不是小驼峰法（camelCase）命名变量、函数及方法名（比如，poll.get_unique_voters()，不要使用 poll.getUniqueVoters）。 使用首字母大写（InitialCaps）的方式命名类名（或能够返回类的工厂函数）。 文档字符串中，使用动词（action words）。比如： def foo(): &#34;&#34;&#34; Calculates something and returns the result. &#34;&#34;&#34; pass 反例： def foo(): &#34;&#34;&#34; Calculate something and return the result. &#34;&#34;&#34; pass 模板风格 在模板中，大括号及标签内容之间使用一个（只需一个）空格。 应该这样：{{ foo }} 别这样： {{foo}} 视图风格 在视图中，视图函数的第一个参数应该被命名为 request。 应该这样：def my_view(request, foo): # ... 别这样： def my_view(req, foo): # ... 模型风格 字段名应该全部小写，使用下划线代替小驼峰法。 应该这样： class Person(models.Model): first_name = models.CharField(max_length=20) last_name = models.CharField(max_length=40) 别这样： class Person(models.Model): FirstName = models.CharField(max_length=20) Last_Name = models.CharField(max_length=40) class Meta 应该在字段被定义后才出现，使用一个空行分隔。 应该这样： class Person(models.Model): first_name = models.CharField(max_length=20) last_name = models.CharField(max_length=40) class Meta: verbose_name_plural = &#39;people&#39; 别这样： class Person(models.Model): first_name = models.CharField(max_length=20) last_name = models.CharField(max_length=40) class Meta: verbose_name_plural = &#39;people&#39; 也别这样： class Person(models.Model): class Meta: verbose_name_plural = &#39;people&#39; first_name = models.CharField(max_length=20) last_name = models.CharField(max_length=40) model 内的类和方法的定义顺序应该遵循如下顺序（不是所有项都是必需的）： 所有的数据库字段 自定义管理器属性（manager attributes） class Meta def __unicode__() def __str__() def save() def get_absolute_url() 其他自定义方法 如果一个 model 字段定义了 choices，那么定义的多元元组的名称应该全部大写。例如： class MyModel(models.Model): DIRECTION_UP = &#39;U&#39; DIRECTION_DOWN = &#39;D&#39; DIRECTION_CHOICES = ( (DIRECTION_UP, &#39;Up&#39;), (DIRECTION_DOWN, &#39;Down&#39;), ) django.conf.settings 的使用 模块不常用的设置项被储存在 django.conf.settings 中 Modules should not in general use settings stored in django.conf.settings at the top level (i.e. evaluated when the module is imported). The explanation for this is as follows: Manual configuration of settings (i.e. not relying on the DJANGO_SETTINGS_MODULE environment variable) is allowed and possible as follows: from django.conf import settings settings.configure({}, SOME_SETTING=&#39;foo&#39;) However, if any setting is accessed before the settings.configure line, this will not work. (Internally, settings is a LazyObject which configures itself automatically when the settings are accessed if it has not already been configured). So, if there is a module containing some code as follows: from django.conf import settings from django.core.urlresolvers import get_callable default_foo_view = get_callable(settings.FOO_VIEW) ...then importing this module will cause the settings object to be configured. That means that the ability for third parties to import the module at the top level is incompatible with the ability to configure the settings object manually, or makes it very difficult in some circumstances. Instead of the above code, a level of laziness or indirection must be used, such as django.utils.functional.LazyObject, django.utils.functional.lazy() or lambda. Miscellaneous Mark all strings for internationalization; see the i18n documentation for details. Remove import statements that are no longer used when you change code. The most common tools for this task are pyflakes and pylint. Systematically remove all trailing whitespaces from your code as those add unnecessary bytes, add visual clutter to the patches and can also occasionally cause unnecessary merge conflicts. Some IDE’s can be configured to automatically remove them and most VCS tools can be set to highlight them in diff outputs. Note, however, that patches which only remove whitespace (or only make changes for nominal PEP 8 conformance) are likely to be rejected, since they only introduce noise rather than code improvement. Tidy up when you’re next changing code in the area. Please don’t put your name in the code you contribute. Our policy is to keep contributors’ names in the AUTHORS file distributed with Django – not scattered throughout the codebase itself. Feel free to include a change to the AUTHORS file in your patch if you make more than a single trivial change." />

    <style>
      .js-toc {
        margin-bottom: 20px;
      }
      .donate-modal {
        text-align: center;
      }
      #donate-modal-container .donate-image {
        max-height: 300px !important;
        min-height: inherit !important;
      }
    </style>

        <meta property="og:site_name" content="mozillazg's Blog" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="[django]官方编码规范"/>
        <meta property="og:url" content="https://mozillazg.com/2013/02/django-offical-coding-style.html"/>
        <meta property="og:description" content="请以最新的官方英文版为准：https://docs.djangoproject.com/en/dev/internals/contributing/writing-code/coding-style/ 编码风格 当编写 Django 代码时，请遵循下列编码规范。 Python 风格 除非另有规定，否则请遵循 PEP 8 风格指南。 你可以使用类似 pep8 的工具检查你的代码， 但是，请记住 PEP 8 只是个指南，并非强制约束，因此应当以你所处项目/团队的风格为主。 一个比较大的例外就是，PEP 8 规定代码行长最长不能超过 79 个字符。问题是现在是 21 世纪了，我们有高分辨率的显示器可以显示超过 79 个字符的代码行。如果这这个约定让代码看起来很丑或难以阅读的话，那么就没必要限制行长不超过 79 个字符。 使用4个空格进行缩进。 使用下划线而不是小驼峰法（camelCase）命名变量、函数及方法名（比如，poll.get_unique_voters()，不要使用 poll.getUniqueVoters）。 使用首字母大写（InitialCaps）的方式命名类名（或能够返回类的工厂函数）。 文档字符串中，使用动词（action words）。比如： def foo(): &#34;&#34;&#34; Calculates something and returns the result. &#34;&#34;&#34; pass 反例： def foo(): &#34;&#34;&#34; Calculate something and return the result. &#34;&#34;&#34; pass 模板风格 在模板中，大括号及标签内容之间使用一个（只需一个）空格。 应该这样：{{ foo }} 别这样： {{foo}} 视图风格 在视图中，视图函数的第一个参数应该被命名为 request。 应该这样：def my_view(request, foo): # ... 别这样： def my_view(req, foo): # ... 模型风格 字段名应该全部小写，使用下划线代替小驼峰法。 应该这样： class Person(models.Model): first_name = models.CharField(max_length=20) last_name = models.CharField(max_length=40) 别这样： class Person(models.Model): FirstName = models.CharField(max_length=20) Last_Name = models.CharField(max_length=40) class Meta 应该在字段被定义后才出现，使用一个空行分隔。 应该这样： class Person(models.Model): first_name = models.CharField(max_length=20) last_name = models.CharField(max_length=40) class Meta: verbose_name_plural = &#39;people&#39; 别这样： class Person(models.Model): first_name = models.CharField(max_length=20) last_name = models.CharField(max_length=40) class Meta: verbose_name_plural = &#39;people&#39; 也别这样： class Person(models.Model): class Meta: verbose_name_plural = &#39;people&#39; first_name = models.CharField(max_length=20) last_name = models.CharField(max_length=40) model 内的类和方法的定义顺序应该遵循如下顺序（不是所有项都是必需的）： 所有的数据库字段 自定义管理器属性（manager attributes） class Meta def __unicode__() def __str__() def save() def get_absolute_url() 其他自定义方法 如果一个 model 字段定义了 choices，那么定义的多元元组的名称应该全部大写。例如： class MyModel(models.Model): DIRECTION_UP = &#39;U&#39; DIRECTION_DOWN = &#39;D&#39; DIRECTION_CHOICES = ( (DIRECTION_UP, &#39;Up&#39;), (DIRECTION_DOWN, &#39;Down&#39;), ) django.conf.settings 的使用 模块不常用的设置项被储存在 django.conf.settings 中 Modules should not in general use settings stored in django.conf.settings at the top level (i.e. evaluated when the module is imported). The explanation for this is as follows: Manual configuration of settings (i.e. not relying on the DJANGO_SETTINGS_MODULE environment variable) is allowed and possible as follows: from django.conf import settings settings.configure({}, SOME_SETTING=&#39;foo&#39;) However, if any setting is accessed before the settings.configure line, this will not work. (Internally, settings is a LazyObject which configures itself automatically when the settings are accessed if it has not already been configured). So, if there is a module containing some code as follows: from django.conf import settings from django.core.urlresolvers import get_callable default_foo_view = get_callable(settings.FOO_VIEW) ...then importing this module will cause the settings object to be configured. That means that the ability for third parties to import the module at the top level is incompatible with the ability to configure the settings object manually, or makes it very difficult in some circumstances. Instead of the above code, a level of laziness or indirection must be used, such as django.utils.functional.LazyObject, django.utils.functional.lazy() or lambda. Miscellaneous Mark all strings for internationalization; see the i18n documentation for details. Remove import statements that are no longer used when you change code. The most common tools for this task are pyflakes and pylint. Systematically remove all trailing whitespaces from your code as those add unnecessary bytes, add visual clutter to the patches and can also occasionally cause unnecessary merge conflicts. Some IDE’s can be configured to automatically remove them and most VCS tools can be set to highlight them in diff outputs. Note, however, that patches which only remove whitespace (or only make changes for nominal PEP 8 conformance) are likely to be rejected, since they only introduce noise rather than code improvement. Tidy up when you’re next changing code in the area. Please don’t put your name in the code you contribute. Our policy is to keep contributors’ names in the AUTHORS file distributed with Django – not scattered throughout the codebase itself. Feel free to include a change to the AUTHORS file in your patch if you make more than a single trivial change."/>
        <meta property="article:published_time" content="2013-02-01" />
            <meta property="article:section" content="django" />
            <meta property="article:tag" content="django" />
            <meta property="article:tag" content="django" />
            <meta property="article:tag" content="python" />
            <meta property="article:author" content="mozillazg" />
            <meta property="og:image"
                  content="https://mozillazg.com/static/avatar.jpeg"/>


    <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@mozillazg">
        <meta name="twitter:creator" content="@mozillazg">
    <meta name="twitter:domain" content="https://mozillazg.com">
            <meta property="twitter:image"
                  content="https://mozillazg.com/static/avatar.jpeg"/>

    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.4/dist/css/bootstrap.min.css" type="text/css"/>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.3.0/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/pygments-css@1.0.0/github.css" rel="stylesheet">
    <link rel="stylesheet" href="https://mozillazg.com/theme/css/style.css" type="text/css"/>
            <link href="https://mozillazg.com/static/han.min.css" rel="stylesheet">
            <link href="https://mozillazg.com/static/yue.css" rel="stylesheet">
            <link href="https://mozillazg.com/static/custom.css" rel="stylesheet">

        <link href="https://mozillazg.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="mozillazg's Blog ATOM Feed"/>

        <link href="https://mozillazg.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate"
              title="mozillazg's Blog RSS Feed"/>


        <link href="https://mozillazg.com/feeds/django.atom.xml" type="application/atom+xml" rel="alternate"
              title="mozillazg's Blog django ATOM Feed"/>


    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "publisher": {
            "@type": "Person",
            "name": "mozillazg",
            "logo": "https://mozillazg.com/static/avatar.jpeg"
        },
        "author": {
            "@type": "Person",
            "name": "mozillazg",
            "image": "https://mozillazg.com/static/avatar.jpeg",
            "url": "https://mozillazg.com",
            "sameAs": []
        },
        "headline": "[django]官方编码规范",
        "url": "https://mozillazg.com/2013/02/django-offical-coding-style.html",
        "image": [
            "https://mozillazg.com/static/avatar.jpeg"
         ],
        "keywords": "django, django, python",
        "description": "请以最新的官方英文版为准：https://docs.djangoproject.com/en/dev/internals/contributing/writing-code/coding-style/ 编码风格 当编写 Django 代码时，请遵循下列编码规范。 Python 风格 除非另有规定，否则请遵循 PEP 8 风格指南。 你可以使用类似 pep8 的工具检查你的代码， 但是，请记住 PEP 8 只是个指南，并非强制约束，因此应当以你所处项目/团队的风格为主。 一个比较大的例外就是，PEP 8 规定代码行长最长不能超过 79 个字符。问题是现在是 21 世纪了，我们有高分辨率的显示器可以显示超过 79 个字符的代码行。如果这这个约定让代码看起来很丑或难以阅读的话，那么就没必要限制行长不超过 79 个字符。 使用4个空格进行缩进。 使用下划线而不是小驼峰法（camelCase）命名变量、函数及方法名（比如，poll.get_unique_voters()，不要使用 poll.getUniqueVoters）。 使用首字母大写（InitialCaps）的方式命名类名（或能够返回类的工厂函数）。 文档字符串中，使用动词（action words）。比如： def foo(): &#34;&#34;&#34; Calculates something and returns the result. &#34;&#34;&#34; pass 反例： def foo(): &#34;&#34;&#34; Calculate something and return the result. &#34;&#34;&#34; pass 模板风格 在模板中，大括号及标签内容之间使用一个（只需一个）空格。 应该这样：{{ foo }} 别这样： {{foo}} 视图风格 在视图中，视图函数的第一个参数应该被命名为 request。 应该这样：def my_view(request, foo): # ... 别这样： def my_view(req, foo): # ... 模型风格 字段名应该全部小写，使用下划线代替小驼峰法。 应该这样： class Person(models.Model): first_name = models.CharField(max_length=20) last_name = models.CharField(max_length=40) 别这样： class Person(models.Model): FirstName = models.CharField(max_length=20) Last_Name = models.CharField(max_length=40) class Meta 应该在字段被定义后才出现，使用一个空行分隔。 应该这样： class Person(models.Model): first_name = models.CharField(max_length=20) last_name = models.CharField(max_length=40) class Meta: verbose_name_plural = &#39;people&#39; 别这样： class Person(models.Model): first_name = models.CharField(max_length=20) last_name = models.CharField(max_length=40) class Meta: verbose_name_plural = &#39;people&#39; 也别这样： class Person(models.Model): class Meta: verbose_name_plural = &#39;people&#39; first_name = models.CharField(max_length=20) last_name = models.CharField(max_length=40) model 内的类和方法的定义顺序应该遵循如下顺序（不是所有项都是必需的）： 所有的数据库字段 自定义管理器属性（manager attributes） class Meta def __unicode__() def __str__() def save() def get_absolute_url() 其他自定义方法 如果一个 model 字段定义了 choices，那么定义的多元元组的名称应该全部大写。例如： class MyModel(models.Model): DIRECTION_UP = &#39;U&#39; DIRECTION_DOWN = &#39;D&#39; DIRECTION_CHOICES = ( (DIRECTION_UP, &#39;Up&#39;), (DIRECTION_DOWN, &#39;Down&#39;), ) django.conf.settings 的使用 模块不常用的设置项被储存在 django.conf.settings 中 Modules should not in general use settings stored in django.conf.settings at the top level (i.e. evaluated when the module is imported). The explanation for this is as follows: Manual configuration of settings (i.e. not relying on the DJANGO_SETTINGS_MODULE environment variable) is allowed and possible as follows: from django.conf import settings settings.configure({}, SOME_SETTING=&#39;foo&#39;) However, if any setting is accessed before the settings.configure line, this will not work. (Internally, settings is a LazyObject which configures itself automatically when the settings are accessed if it has not already been configured). So, if there is a module containing some code as follows: from django.conf import settings from django.core.urlresolvers import get_callable default_foo_view = get_callable(settings.FOO_VIEW) ...then importing this module will cause the settings object to be configured. That means that the ability for third parties to import the module at the top level is incompatible with the ability to configure the settings object manually, or makes it very difficult in some circumstances. Instead of the above code, a level of laziness or indirection must be used, such as django.utils.functional.LazyObject, django.utils.functional.lazy() or lambda. Miscellaneous Mark all strings for internationalization; see the i18n documentation for details. Remove import statements that are no longer used when you change code. The most common tools for this task are pyflakes and pylint. Systematically remove all trailing whitespaces from your code as those add unnecessary bytes, add visual clutter to the patches and can also occasionally cause unnecessary merge conflicts. Some IDE’s can be configured to automatically remove them and most VCS tools can be set to highlight them in diff outputs. Note, however, that patches which only remove whitespace (or only make changes for nominal PEP 8 conformance) are likely to be rejected, since they only introduce noise rather than code improvement. Tidy up when you’re next changing code in the area. Please don’t put your name in the code you contribute. Our policy is to keep contributors’ names in the AUTHORS file distributed with Django – not scattered throughout the codebase itself. Feel free to include a change to the AUTHORS file in your patch if you make more than a single trivial change.",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "https://mozillazg.com/2013/02/django-offical-coding-style.html"
        },
        "datePublished": "2013-02-01"
    }
    </script>

</head>
<body>

<div class="navbar" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://mozillazg.com/" class="navbar-brand">
mozillazg's Blog            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                    <li><a href="https://mozillazg.com/feeds/all.atom.xml">Feed</a></li>
                    <li><a href="/2014/10/pages/about-me.html">About</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="https://mozillazg.com/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-lg-12">
    <section id="content" class="yue">
        <article>
            <header class="text-center">
                <h1>
                    <a href="https://mozillazg.com/2013/02/django-offical-coding-style.html"
                       rel="bookmark"
                       title="Permalink to [django]官方编码规范">
                        [django]官方编码规范
                    </a>
                </h1>
                <p class="published">
                    <time datetime="2013-02-01T00:00:00+00:00">
                    2013-02-01
                    </time>
                </p>
            </header>
            <div class="entry-content">
                <div class="well-sm article-info">
<footer class="post-info">
        <a href="https://mozillazg.com/category/django.html">django</a>


<span class="label label-default hide">Tags</span>
	<a href="https://mozillazg.com/tag/django.html">django</a>
        /
	<a href="https://mozillazg.com/tag/python.html">python</a>
    
</footer><!-- /.post-info -->                </div>
                <div class="js-toc"></div>
                <div>
                <p>请以最新的官方英文版为准：<a href="https://docs.djangoproject.com/en/dev/internals/contributing/writing-code/coding-style/">https://docs.djangoproject.com/en/dev/internals/contributing/writing-code/coding-style/</a></p>
<h2>编码风格</h2>
<p>当编写 Django 代码时，请遵循下列编码规范。</p>
<h3>Python 风格</h3>
<ul>
<li>
<p>除非另有规定，否则请遵循 <a href="http://www.python.org/dev/peps/pep-0008">PEP 8</a> 风格指南。    <br />
  你可以使用类似 <a href="http://pypi.python.org/pypi/pep8">pep8</a> 的工具检查你的代码，
  但是，请记住 <a href="http://www.python.org/dev/peps/pep-0008">PEP 8</a> 只是个指南，并非强制约束，因此应当以你所处项目/团队的风格为主。    <br />
  一个比较大的例外就是，<a href="http://www.python.org/dev/peps/pep-0008">PEP 8</a> 规定代码行长最长不能超过 79 个字符。问题是现在是 21 世纪了，我们有高分辨率的显示器可以显示超过 79 个字符的代码行。如果这这个约定让代码看起来很丑或难以阅读的话，那么就没必要限制行长不超过 79 个字符。</p>
</li>
<li>
<p>使用4个空格进行缩进。</p>
</li>
<li>
<p>使用下划线而不是小驼峰法（camelCase）命名变量、函数及方法名（比如，poll.get_unique_voters()，不要使用 poll.getUniqueVoters）。</p>
</li>
<li>
<p>使用首字母大写（InitialCaps）的方式命名类名（或能够返回类的工厂函数）。</p>
</li>
<li>
<p>文档字符串中，使用动词（action words）。比如：</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">foo</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculates something and returns the result.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</pre></div>


<p>反例：</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">foo</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculate something and return the result.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</pre></div>


</li>
</ul>
<h3>模板风格</h3>
<ul>
<li>在模板中，大括号及标签内容之间使用一个（只需一个）空格。    <br />
  应该这样：<div class="highlight"><pre><span></span><span class="cp">{{</span> <span class="nv">foo</span> <span class="cp">}}</span>
</pre></div>


<p>别这样：</p>
<div class="highlight"><pre><span></span><span class="cp">{{</span><span class="nv">foo</span><span class="cp">}}</span>
</pre></div>


</li>
</ul>
<h3>视图风格</h3>
<ul>
<li>在视图中，视图函数的第一个参数应该被命名为 request。     <br />
  应该这样：<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_view</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">foo</span><span class="p">):</span>
    <span class="c1"># ...</span>
</pre></div>


<p>别这样：</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_view</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="n">foo</span><span class="p">):</span>
    <span class="c1"># ...</span>
</pre></div>


</li>
</ul>
<h3>模型风格</h3>
<ul>
<li>
<p>字段名应该全部小写，使用下划线代替小驼峰法。
  应该这样：</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">first_name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    <span class="n">last_name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
</pre></div>


<p>别这样：</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">FirstName</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    <span class="n">Last_Name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
</pre></div>


</li>
<li>
<p><code>class Meta</code> 应该在字段被定义<em>后</em>才出现，使用一个空行分隔。
  应该这样：</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">first_name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    <span class="n">last_name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">verbose_name_plural</span> <span class="o">=</span> <span class="s1">&#39;people&#39;</span>
</pre></div>


<p>别这样：</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">first_name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    <span class="n">last_name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">verbose_name_plural</span> <span class="o">=</span> <span class="s1">&#39;people&#39;</span>
</pre></div>


<p>也别这样：</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">verbose_name_plural</span> <span class="o">=</span> <span class="s1">&#39;people&#39;</span>

    <span class="n">first_name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    <span class="n">last_name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
</pre></div>


</li>
<li>
<p>model 内的类和方法的定义顺序应该遵循如下顺序（不是所有项都是必需的）：       </p>
<ol>
<li>所有的数据库字段          </li>
<li>自定义<a href="https://docs.djangoproject.com/en/dev/topics/db/managers/">管理器属性（manager attributes）</a>         </li>
<li><code>class Meta</code>          </li>
<li><code>def __unicode__()</code>       </li>
<li><code>def __str__()</code>       </li>
<li><code>def save()</code>          </li>
<li><code>def get_absolute_url()</code>          </li>
<li>其他自定义方法        </li>
</ol>
</li>
<li>
<p>如果一个 model 字段定义了 <code>choices</code>，那么定义的多元元组的名称应该全部大写。例如：      </p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">DIRECTION_UP</span> <span class="o">=</span> <span class="s1">&#39;U&#39;</span>
    <span class="n">DIRECTION_DOWN</span> <span class="o">=</span> <span class="s1">&#39;D&#39;</span>
    <span class="n">DIRECTION_CHOICES</span> <span class="o">=</span> <span class="p">(</span>
        <span class="p">(</span><span class="n">DIRECTION_UP</span><span class="p">,</span> <span class="s1">&#39;Up&#39;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">DIRECTION_DOWN</span><span class="p">,</span> <span class="s1">&#39;Down&#39;</span><span class="p">),</span>
    <span class="p">)</span>
</pre></div>


</li>
</ul>
<h3>django.conf.settings 的使用</h3>
<p>模块不常用的设置项被储存在 <code>django.conf.settings</code> 中</p>
<p>Modules should not in general use settings stored in <code>django.conf.settings</code> at the top level (i.e. evaluated when the module is imported). The explanation for this is as follows:</p>
<p>Manual configuration of settings (i.e. not relying on the <code>DJANGO_SETTINGS_MODULE</code> environment variable) is allowed and possible as follows:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.conf</span> <span class="kn">import</span> <span class="n">settings</span>

<span class="n">settings</span><span class="o">.</span><span class="n">configure</span><span class="p">({},</span> <span class="n">SOME_SETTING</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
</pre></div>


<p>However, if any setting is accessed before the settings.configure line, this will not work. (Internally, <code>settings</code> is a <code>LazyObject</code> which configures itself automatically when the settings are accessed if it has not already been configured).</p>
<p>So, if there is a module containing some code as follows:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.conf</span> <span class="kn">import</span> <span class="n">settings</span>
<span class="kn">from</span> <span class="nn">django.core.urlresolvers</span> <span class="kn">import</span> <span class="n">get_callable</span>

<span class="n">default_foo_view</span> <span class="o">=</span> <span class="n">get_callable</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">FOO_VIEW</span><span class="p">)</span>
</pre></div>


<p>...then importing this module will cause the settings object to be configured. That means that the ability for third parties to import the module at the top level is incompatible with the ability to configure the settings object manually, or makes it very difficult in some circumstances.</p>
<p>Instead of the above code, a level of laziness or indirection must be used, such as <code>django.utils.functional.LazyObject</code>, <code>django.utils.functional.lazy()</code> or <code>lambda</code>.</p>
<h3>Miscellaneous</h3>
<ul>
<li>Mark all strings for internationalization; see the i18n documentation for details.</li>
<li>Remove import statements that are no longer used when you change code. The most common tools for this task are pyflakes and pylint.</li>
<li>Systematically remove all trailing whitespaces from your code as those add unnecessary bytes, add visual clutter to the patches and can also occasionally cause unnecessary merge conflicts. Some IDE’s can be configured to automatically remove them and most VCS tools can be set to highlight them in diff outputs. Note, however, that patches which only remove whitespace (or only make changes for nominal PEP 8 conformance) are likely to be rejected, since they only introduce noise rather than code improvement. Tidy up when you’re next changing code in the area.</li>
<li>Please don’t put your name in the code you contribute. Our policy is to keep contributors’ names in the AUTHORS file distributed with Django – not scattered throughout the codebase itself. Feel free to include a change to the AUTHORS file in your patch if you make more than a single trivial change.</li>
</ul>
                </div>
            </div>
            <!-- /.entry-content -->
<section class="text-center">
  
<div id="donate"></div>

<div class="social-share"></div>
<div class="social-comment-note">
<p class="text-center">有任何建议和想法欢迎在下方评论区留言或者加我<a href="/static/wechat.png">微信</a>交流</p>
</div>

</section>
<section class="well" id="related-posts">
    <p>Related Posts:</p>
    <ul>
        <li><a href="https://mozillazg.com/2014/03/django-save-uploaded-file-with-utf8-encoding-by-custom-model-field.html">[django]通过自定义 Model Field 的方式将上传的文本文件按 UTF-8 编码保存</a></li>
        <li><a href="https://mozillazg.com/2013/10/django-TypeError-delete-got-an-unexpected-keyword-argument-using.html">[django]修复 &quot;TypeError: delete() got an unexpected keyword argument 'using'&quot;</a></li>
        <li><a href="https://mozillazg.com/2013/10/django-dictionary-update-sequence-element-0-has-length-1-2-is-required.html">[django]修复 &quot;dictionary update sequence element 0 has length 1, 2 is required&quot;</a></li>
        <li><a href="https://mozillazg.com/2013/09/django-group-by-day.html">[django]按天分组统计数据</a></li>
        <li><a href="https://mozillazg.com/2013/09/django-group-by-hour.html">[django]按小时分组统计数据</a></li>
    </ul>
</section>
<hr/>
<section class="comments" id="comments">
    <h2>Comments</h2>
    <script src="https://giscus.app/client.js"
            data-repo="mozillazg/mozillazg.github.com"
            data-repo-id="MDEwOlJlcG9zaXRvcnk3Njc4MTA2"
            data-category="Announcements"
            data-category-id="DIC_kwDOAHUoms4CckZl"
            data-mapping="pathname"
            data-strict="0"
            data-reactions-enabled="1"
            data-emit-metadata="0"
            data-input-position="bottom"
            data-theme="preferred_color_scheme"
            data-lang="en"
            data-loading="lazy"
            crossorigin="anonymous"
            async>
    </script>
</section>
        </article>
    </section>

        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2024 mozillazg
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>
            &middot; <a href="/privacy-policy.html" target="_blank">Privacy</a>              <p><small>  <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="/static/images/by-sa-80x15.png" /></a>
    &quot;<span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">mozillazg's Blog</span>&quot; by <a xmlns:cc="http://creativecommons.org/ns#" href="https://mozillazg.com" property="cc:attributionName" rel="cc:attributionURL">mozillazg</a> is
  licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>, except where indicated otherwise.
</small></p>
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://cdn.jsdelivr.net/npm/jquery@2.1.1/dist/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.4/dist/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->

    <!-- Google Analytics Universal -->
    <script type="text/javascript">
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-77172981-1', 'auto');
        ga('send', 'pageview');
    </script>
    <!-- End Google Analytics Universal Code -->

<!-- share.js -->
<script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script>



<script src="https://cdn.jsdelivr.net/npm/tocbot@3.0.2/dist/tocbot.min.js"></script>
<script>
$(document).ready(function(){
  tocbot.init({
    // Where to render the table of contents.
    tocSelector: '.js-toc',
    // Where to grab the headings to build the table of contents.
    contentSelector: '.entry-content',
    // Which headings to grab inside of the contentSelector element.
    headingSelector: 'h2, h3, h4,h5',
    // Headings that match the ignoreSelector will be skipped.
    ignoreSelector: '.js-toc-ignore',
    // Main class to add to links.
    linkClass: 'toc-link',
    // Extra classes to add to links.
    extraLinkClasses: '',
    // Class to add to active links,
    // the link corresponding to the top most heading on the page.
    activeLinkClass: 'is-active-link',
    // Main class to add to lists.
    listClass: 'toc-list',
    // Extra classes to add to lists.
    extraListClasses: '',
    // Class that gets added when a list should be collapsed.
    isCollapsedClass: 'is-collapsed',
    // Class that gets added when a list should be able
    // to be collapsed but isn't necessarily collpased.
    collapsibleClass: 'is-collapsible',
    // Class to add to list items.
    listItemClass: 'toc-list-item',
    // How many heading levels should not be collpased.
    // For example, number 6 will show everything since
    // there are only 6 heading levels and number 0 will collpase them all.
    // The sections that are hidden will open
    // and close as you scroll to headings within them.
    collapseDepth: 6,
    // Smooth scrolling enabled.
    smoothScroll: true,
    // Smooth scroll duration.
    smoothScrollDuration: 420,
    // Callback for scroll end (requires: smoothScroll).
    scrollEndCallback: function (e) {},
    // Headings offset between the headings and the top of the document (this is meant for minor adjustments).
    headingsOffset: 0,
    // Timeout between events firing to make sure it's
    // not too rapid (for performance reasons).
    throttleTimeout: 50,
    // Element to add the positionFixedClass to.
    positionFixedSelector: null,
    // Fixed position class to add to make sidebar fixed after scrolling
    // down past the fixedSidebarOffset.
    positionFixedClass: 'is-position-fixed',
    // fixedSidebarOffset can be any number but by default is set
    // to auto which sets the fixedSidebarOffset to the sidebar
    // element's offsetTop from the top of the document on init.
    fixedSidebarOffset: 'auto',
    // includeHtml can be set to true to include the HTML markup from the
    // heading node instead of just including the textContent.
    includeHtml: false
  });
});
</script>
</body>
</html>