<!DOCTYPE html>
<html lang="en"  prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml" class="han-init">
<head>
    <title>Major Changes in ptcpdump versions 0.33 to 0.37 - mozillazg's Blog</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- share.css -->
    <link rel="stylesheet" href="/theme/cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css">


    <link href="https://mozillazg.com/favicon.ico" rel="icon">

<link rel="canonical" href="https://mozillazg.com/2025/11/whats-new-ptcpdump-v0.33-v0.37-en.html">

        <meta name="author" content="mozillazg" />
        <meta name="keywords" content="others,ptcpdump" />
    <meta name="description" content="Major Changes in ptcpdump versions 0.33 to 0.37 - Preface This article introduces the main changes in ptcpdump from v0.33 (after v0.32 ) to the latest v0.37, in chronological order. Main changes Prefer using BPF ringbuf instead of BPF perfbuf If the Linux kernel on the current system supports BPF ringbuf, ptcpdump will prioritize using BPF ringbuf to optimize program performance. For more information about BPF ringbuf, please refer to BPF ring buffer . Fix the issue where packet filtering by process failed when using the cgroup-skb backend Fixed an issue in previous versions where the features corresponding to the --pid or --pname parameters failed when the cgroup-skb backend was specified via --backend=cgroup-skb. Support reading PcapNG format data from standard input It now supports reading PcapNG format data from standard input using -r -: $ cat data.pcapng | ptcpdump -r - $ ptcpdump -r - &lt; data.pcapng Support file rotation using -C and -W options It now supports file rotation when saving data to a file using -w, by using the -C or -W options: sudo ptcpdump -i any -w data.pcapng -C 1mb sudo ptcpdump -i any -w data.pcapng -C 1mb -W 5 Where: -C specifies the maximum file size. When this size is exceeded, a number will be appended to the old filename (e.g., data.pcapng1) to save historical data. -W specifies the number of files to keep. It must be used with -C to limit the number of files. Support reading pcap filter expressions from a file using -F/--expression-file It now supports reading pcap filter expressions from a ..." />

    <style>
      .js-toc {
        margin-bottom: 20px;
      }
      .donate-modal {
        text-align: center;
      }
      #donate-modal-container .donate-image {
        max-height: 300px !important;
        min-height: inherit !important;
      }
    </style>

        <meta property="og:site_name" content="mozillazg's Blog" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Major Changes in ptcpdump versions 0.33 to 0.37"/>
        <meta property="og:url" content="https://mozillazg.com/2025/11/whats-new-ptcpdump-v0.33-v0.37-en.html"/>
        <meta property="og:description" content="Preface This article introduces the main changes in ptcpdump from v0.33 (after v0.32 ) to the latest v0.37, in chronological order. Main changes Prefer using BPF ringbuf instead of BPF perfbuf If the Linux kernel on the current system supports BPF ringbuf, ptcpdump will prioritize using BPF ringbuf to optimize program performance. For more information about BPF ringbuf, please refer to BPF ring buffer . Fix the issue where packet filtering by process failed when using the cgroup-skb backend Fixed an issue in previous versions where the features corresponding to the --pid or --pname parameters failed when the cgroup-skb backend was specified via --backend=cgroup-skb. Support reading PcapNG format data from standard input It now supports reading PcapNG format data from standard input using -r -: $ cat data.pcapng | ptcpdump -r - $ ptcpdump -r - &lt; data.pcapng Support file rotation using -C and -W options It now supports file rotation when saving data to a file using -w, by using the -C or -W options: sudo ptcpdump -i any -w data.pcapng -C 1mb sudo ptcpdump -i any -w data.pcapng -C 1mb -W 5 Where: -C specifies the maximum file size. When this size is exceeded, a number will be appended to the old filename (e.g., data.pcapng1) to save historical data. -W specifies the number of files to keep. It must be used with -C to limit the number of files. Support reading pcap filter expressions from a file using -F/--expression-file It now supports reading pcap filter expressions from a file using the -F or --expression-file option: sudo ptcpdump -i any -c 10 -F filter.txt sudo ptcpdump -i any -c 10 --expression-file filter.txt Support specifying output time format using -tt, -ttt, -tttt, -ttttt It now supports using -tt, -ttt, -tttt, and -ttttt to specify the time format when outputting packet information. -tt : Displays timestamp format, e.g., 1764417816.346098 ens33 sshd.183127 Out IP xx.xx.xx.xx.22 &gt; xx.xx.xx.xx.64755:... -ttt : Displays the time interval between two records, e.g., 00:00:00.000265 ens33 sshd.183127 Out IP xx.xx.xx.xx.22 &gt; xx.xx.xx.xx.64755:... -tttt : Displays date and time, e.g., 2025-11-29 20:03:36.346098 ens33 sshd.183127 Out IP xx.xx.xx.xx.22 &gt; xx.xx.xx.xx.64755:... -ttttt : Displays the time interval since the first record, e.g., 00:00:00.002708 ens33 sshd.183127 Out IP xx.xx.xx.xx.22 &gt; xx.xx.xx.xx.64755:... Support using system-installed libpcap via dynamic linking Previous versions only supported compiling the dependent libpcap library via static linking. It now supports using the system-installed libpcap library via dynamic linking to meet the needs of simplified system library management. You can use the dynamic link library through either of the following compilation methods: $ CGO_ENABLED=1 go build -tags dynamic $ make build-dynamic-link Fix the issue where using -s 0 caused the program to crash In previous versions, using the -s 0 option caused the ptcpdump program to crash. This issue is now fixed. Fix the issue of inaccurate timestamps in terminal output In previous versions, the timestamps of packet information in the terminal output drifted further from the actual event time over time. This issue is now fixed. Experimental support for armv7 CPU architecture Experimental support for the armv7 CPU architecture has been added in the new version. Since there is no CI environment supporting the armv7 architecture, this is only experimental support, and compatibility in future versions cannot be guaranteed. If a version no longer supports armv7, feedback is welcome. Add tp-btf backend A new backend tp-btf has been added. When this backend is used, ptcpdump uses BPF_PROG_TYPE_TRACING eBPF programs to capture packets. The main difference from the tc backend is that tp-btf captures data from all network namespaces by default, while the tc backend defaults to capturing data only from the current network namespace (use --netns to specify a specific network namespace). For differences between backends, see Backend . You can use the new tp-btf backend via --backend tp-btf. Add socket-filter backend Another new backend socket-filter has been added. When this backend is used, ptcpdump uses BPF_PROG_TYPE_SOCKET_FILTER eBPF programs to capture packets. When using this backend, the output of ptcpdump is closer to the output of tcpdump because the packet capture timing is more similar. For differences between backends, see Backend . You can use the new socket-filter backend via --backend socket-filter. Display inode ID in cross-network namespace results Starting from the new version, when the output contains data from a non-current network namespace, the program will attempt to display the inode ID of that network namespace when showing network interface information: 12:20:31.336316 eth0@4026533097 curl.405939 Out IP 172.17.0.4.38670 &gt; 1.1.1.1.80: Flags [S], seq 3064539219, win 64240, options [mss 1460,sackOK,TS val 1731159046 ecr 0,nop,wscale 7], length 0, ParentProc [bash.405653] 12:20:31.336382 veth1d387b0 curl.405939 In IP 172.17.0.4.38670 &gt; 1.1.1.1.80: Flags [S], seq 3064539219, win 64240, options [mss 1460,sackOK,TS val 1731159046 ecr 0,nop,wscale 7], length 0, ParentProc [bash.405653] Add IP Options information to -v output The new version will output IP Options information when using the -v option for details: 09:48:31.908813 IP (tos 0x0, ttl 64, id 39183, offset 0, flags [none], proto TCP (6), length 80, options (RR 1.2.3.4, 1.0.0.0 0.0.0.0 0.0.0.0 0.0.0.0 0.0.0.0 0.0.0.0 0.0.0.0 0.0.0.0,EOL)) ${IP}.1373 &gt; 1.1.1.1.80: Flags [S], cksum 0xbfb4, seq 122218745, win 512, length 0 Add output for HTTP information If a packet contains HTTP data, the new version will output basic HTTP information by default: 13:27:02.285015 IP ${IP}.57166 &gt; ${IP}.80: Flags [P.], ..., length 73: HTTP: GET / HTTP/1.1 13:27:02.516911 IP ${IP}.80 &gt; ${IP}.57166: Flags [P.], ..., length 349: HTTP: HTTP/1.1 301 Moved Permanently If -v is used for detailed output, detailed HTTP information will be included: 13:27:02.285015 IP (tos 0x0, ttl 64, id 8683, offset 0, flags [DF], proto TCP (6), length 113) ..., length 73: HTTP: GET / HTTP/1.1 GET / HTTP/1.1 Host: kernel.org User-Agent: curl/8.5.0 Accept: */* 13:27:02.516911 IP (tos 0x0, ttl 128, id 62994, offset 0, flags [none], proto TCP (6), length 389) ..., length 349: HTTP: HTTP/1.1 301 Moved Permanently HTTP/1.1 301 Moved Permanently Server: nginx Date: Sat, 05 Jul 2025 13:27:02 GMT Content-Type: text/html Content-Length: 162 Connection: keep-alive Location: https://kernel.org/ &lt;html&gt; &lt;head&gt;&lt;title&gt;301 Moved Permanently&lt;/title&gt;&lt;/head&gt; &lt;body&gt; &lt;center&gt;&lt;h1&gt;301 Moved Permanently&lt;/h1&gt;&lt;/center&gt; &lt;hr&gt;&lt;center&gt;nginx&lt;/center&gt; &lt;/body&gt; &lt;/html&gt; Add output for TLS information If a packet contains TLS data, the new version will output TLS Client Hello or Server Hello information by default: 13:48:40.371849 IP ${IP}.47812 &gt; ${IP}.443: Flags [P.], ..., length 517: TLSv1.0: Client Hello (SNI=kernel.org) 13:48:40.606677 IP ${IP}.443 &gt; ${IP}.47812: Flags [P.], ..., length 1412: TLSv1.3: Server Hello Add support for capturing on L3 network interface devices Previous versions only supported capturing on L2 network interface devices. The new version adds support for L3 network interfaces (such as TUN devices). Change to display TCP sequence numbers as relative numbers by default In previous versions, raw TCP sequence numbers were displayed by default, which was hard to read: 20:03:36.346098 ens33 sshd.183127 Out IP ${IP}.22 &gt; ${IP}.64755: Flags [P.], seq 1457857145:1457857369, ack 1966040526, win 65535, length 224, ParentProc [sshd.16678] 20:03:36.346909 ens33 sshd.183127 In IP ${IP}.64755 &gt; ${IP}.22: Flags [.], seq 1966040526, ack 1457857369, win 64240, length 0, ParentProc [sshd.16678] 20:03:36.348807 ens33 sshd.183127 Out IP ${IP}.22 &gt; ${IP}.64755: Flags [P.], seq 1457857369:1457857593, ack 1966040526, win 65535, length 224, ParentProc [sshd.16678] The new version displays TCP sequence numbers as relative numbers by default: 20:03:36.346098 ens33 sshd.183127 Out IP ${IP}.22 &gt; ${IP}.64755: Flags [P.], seq 1457857145:1457857369, ack 1966040526, win 65535, length 224, ParentProc [sshd.16678] 20:03:36.346909 ens33 sshd.183127 In IP ${IP}.64755 &gt; ${IP}.22: Flags [.], ack 224, win 64240, length 0, ParentProc [sshd.16678] 20:03:36.348807 ens33 sshd.183127 Out IP ${IP}.22 &gt; ${IP}.64755: Flags [P.], seq 224:448, ack 0, win 65535, length 224, ParentProc [sshd.16678] It also adds the -S and --absolute-tcp-sequence-numbers options to switch back to displaying raw numbers. If you have any additional improvements or new feature suggestions for ptcpdump, feel free to leave a comment in the comments section or project issues."/>
        <meta property="article:published_time" content="2025-11-29" />
            <meta property="article:section" content="others" />
            <meta property="article:tag" content="others" />
            <meta property="article:tag" content="ptcpdump" />
            <meta property="article:author" content="mozillazg" />
            <meta property="og:image"
                  content="https://mozillazg.com/static/avatar.jpeg"/>


    <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@mozillazg">
        <meta name="twitter:creator" content="@mozillazg">
    <meta name="twitter:domain" content="https://mozillazg.com">
            <meta property="twitter:image"
                  content="https://mozillazg.com/static/avatar.jpeg"/>

    <!-- Bootstrap -->
        <link rel="stylesheet" href="/theme/cdn.jsdelivr.net/npm/bootstrap@3.3.4/dist/css/bootstrap.min.css" type="text/css"/>
    <link href="/theme/cdn.jsdelivr.net/npm/font-awesome@4.3.0/css/font-awesome.min.css" rel="stylesheet">

    <link href="/theme/cdn.jsdelivr.net/npm/pygments-css@1.0.0/github.css" rel="stylesheet">
    <link rel="stylesheet" href="https://mozillazg.com/theme/css/style.css" type="text/css"/>
            <link href="/static/han.min.css" rel="stylesheet">
            <link href="/static/yue.css" rel="stylesheet">
            <link href="/static/custom.css" rel="stylesheet">

        <link href="https://mozillazg.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="mozillazg's Blog ATOM Feed"/>

        <link href="https://mozillazg.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate"
              title="mozillazg's Blog RSS Feed"/>


        <link href="https://mozillazg.com/feeds/others.atom.xml" type="application/atom+xml" rel="alternate"
              title="mozillazg's Blog others ATOM Feed"/>


    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "publisher": {
            "@type": "Person",
            "name": "mozillazg",
            "logo": "https://mozillazg.com/static/avatar.jpeg"
        },
        "author": {
            "@type": "Person",
            "name": "mozillazg",
            "image": "https://mozillazg.com/static/avatar.jpeg",
            "url": "https://mozillazg.com",
            "sameAs": []
        },
        "headline": "Major Changes in ptcpdump versions 0.33 to 0.37",
        "url": "https://mozillazg.com/2025/11/whats-new-ptcpdump-v0.33-v0.37-en.html",
        "image": [
            "https://mozillazg.com/static/avatar.jpeg"
         ],
        "keywords": "others, ptcpdump",
        "description": "Preface This article introduces the main changes in ptcpdump from v0.33 (after v0.32 ) to the latest v0.37, in chronological order. Main changes Prefer using BPF ringbuf instead of BPF perfbuf If the Linux kernel on the current system supports BPF ringbuf, ptcpdump will prioritize using BPF ringbuf to optimize program performance. For more information about BPF ringbuf, please refer to BPF ring buffer . Fix the issue where packet filtering by process failed when using the cgroup-skb backend Fixed an issue in previous versions where the features corresponding to the --pid or --pname parameters failed when the cgroup-skb backend was specified via --backend=cgroup-skb. Support reading PcapNG format data from standard input It now supports reading PcapNG format data from standard input using -r -: $ cat data.pcapng | ptcpdump -r - $ ptcpdump -r - &lt; data.pcapng Support file rotation using -C and -W options It now supports file rotation when saving data to a file using -w, by using the -C or -W options: sudo ptcpdump -i any -w data.pcapng -C 1mb sudo ptcpdump -i any -w data.pcapng -C 1mb -W 5 Where: -C specifies the maximum file size. When this size is exceeded, a number will be appended to the old filename (e.g., data.pcapng1) to save historical data. -W specifies the number of files to keep. It must be used with -C to limit the number of files. Support reading pcap filter expressions from a file using -F/--expression-file It now supports reading pcap filter expressions from a file using the -F or --expression-file option: sudo ptcpdump -i any -c 10 -F filter.txt sudo ptcpdump -i any -c 10 --expression-file filter.txt Support specifying output time format using -tt, -ttt, -tttt, -ttttt It now supports using -tt, -ttt, -tttt, and -ttttt to specify the time format when outputting packet information. -tt : Displays timestamp format, e.g., 1764417816.346098 ens33 sshd.183127 Out IP xx.xx.xx.xx.22 &gt; xx.xx.xx.xx.64755:... -ttt : Displays the time interval between two records, e.g., 00:00:00.000265 ens33 sshd.183127 Out IP xx.xx.xx.xx.22 &gt; xx.xx.xx.xx.64755:... -tttt : Displays date and time, e.g., 2025-11-29 20:03:36.346098 ens33 sshd.183127 Out IP xx.xx.xx.xx.22 &gt; xx.xx.xx.xx.64755:... -ttttt : Displays the time interval since the first record, e.g., 00:00:00.002708 ens33 sshd.183127 Out IP xx.xx.xx.xx.22 &gt; xx.xx.xx.xx.64755:... Support using system-installed libpcap via dynamic linking Previous versions only supported compiling the dependent libpcap library via static linking. It now supports using the system-installed libpcap library via dynamic linking to meet the needs of simplified system library management. You can use the dynamic link library through either of the following compilation methods: $ CGO_ENABLED=1 go build -tags dynamic $ make build-dynamic-link Fix the issue where using -s 0 caused the program to crash In previous versions, using the -s 0 option caused the ptcpdump program to crash. This issue is now fixed. Fix the issue of inaccurate timestamps in terminal output In previous versions, the timestamps of packet information in the terminal output drifted further from the actual event time over time. This issue is now fixed. Experimental support for armv7 CPU architecture Experimental support for the armv7 CPU architecture has been added in the new version. Since there is no CI environment supporting the armv7 architecture, this is only experimental support, and compatibility in future versions cannot be guaranteed. If a version no longer supports armv7, feedback is welcome. Add tp-btf backend A new backend tp-btf has been added. When this backend is used, ptcpdump uses BPF_PROG_TYPE_TRACING eBPF programs to capture packets. The main difference from the tc backend is that tp-btf captures data from all network namespaces by default, while the tc backend defaults to capturing data only from the current network namespace (use --netns to specify a specific network namespace). For differences between backends, see Backend . You can use the new tp-btf backend via --backend tp-btf. Add socket-filter backend Another new backend socket-filter has been added. When this backend is used, ptcpdump uses BPF_PROG_TYPE_SOCKET_FILTER eBPF programs to capture packets. When using this backend, the output of ptcpdump is closer to the output of tcpdump because the packet capture timing is more similar. For differences between backends, see Backend . You can use the new socket-filter backend via --backend socket-filter. Display inode ID in cross-network namespace results Starting from the new version, when the output contains data from a non-current network namespace, the program will attempt to display the inode ID of that network namespace when showing network interface information: 12:20:31.336316 eth0@4026533097 curl.405939 Out IP 172.17.0.4.38670 &gt; 1.1.1.1.80: Flags [S], seq 3064539219, win 64240, options [mss 1460,sackOK,TS val 1731159046 ecr 0,nop,wscale 7], length 0, ParentProc [bash.405653] 12:20:31.336382 veth1d387b0 curl.405939 In IP 172.17.0.4.38670 &gt; 1.1.1.1.80: Flags [S], seq 3064539219, win 64240, options [mss 1460,sackOK,TS val 1731159046 ecr 0,nop,wscale 7], length 0, ParentProc [bash.405653] Add IP Options information to -v output The new version will output IP Options information when using the -v option for details: 09:48:31.908813 IP (tos 0x0, ttl 64, id 39183, offset 0, flags [none], proto TCP (6), length 80, options (RR 1.2.3.4, 1.0.0.0 0.0.0.0 0.0.0.0 0.0.0.0 0.0.0.0 0.0.0.0 0.0.0.0 0.0.0.0,EOL)) ${IP}.1373 &gt; 1.1.1.1.80: Flags [S], cksum 0xbfb4, seq 122218745, win 512, length 0 Add output for HTTP information If a packet contains HTTP data, the new version will output basic HTTP information by default: 13:27:02.285015 IP ${IP}.57166 &gt; ${IP}.80: Flags [P.], ..., length 73: HTTP: GET / HTTP/1.1 13:27:02.516911 IP ${IP}.80 &gt; ${IP}.57166: Flags [P.], ..., length 349: HTTP: HTTP/1.1 301 Moved Permanently If -v is used for detailed output, detailed HTTP information will be included: 13:27:02.285015 IP (tos 0x0, ttl 64, id 8683, offset 0, flags [DF], proto TCP (6), length 113) ..., length 73: HTTP: GET / HTTP/1.1 GET / HTTP/1.1 Host: kernel.org User-Agent: curl/8.5.0 Accept: */* 13:27:02.516911 IP (tos 0x0, ttl 128, id 62994, offset 0, flags [none], proto TCP (6), length 389) ..., length 349: HTTP: HTTP/1.1 301 Moved Permanently HTTP/1.1 301 Moved Permanently Server: nginx Date: Sat, 05 Jul 2025 13:27:02 GMT Content-Type: text/html Content-Length: 162 Connection: keep-alive Location: https://kernel.org/ &lt;html&gt; &lt;head&gt;&lt;title&gt;301 Moved Permanently&lt;/title&gt;&lt;/head&gt; &lt;body&gt; &lt;center&gt;&lt;h1&gt;301 Moved Permanently&lt;/h1&gt;&lt;/center&gt; &lt;hr&gt;&lt;center&gt;nginx&lt;/center&gt; &lt;/body&gt; &lt;/html&gt; Add output for TLS information If a packet contains TLS data, the new version will output TLS Client Hello or Server Hello information by default: 13:48:40.371849 IP ${IP}.47812 &gt; ${IP}.443: Flags [P.], ..., length 517: TLSv1.0: Client Hello (SNI=kernel.org) 13:48:40.606677 IP ${IP}.443 &gt; ${IP}.47812: Flags [P.], ..., length 1412: TLSv1.3: Server Hello Add support for capturing on L3 network interface devices Previous versions only supported capturing on L2 network interface devices. The new version adds support for L3 network interfaces (such as TUN devices). Change to display TCP sequence numbers as relative numbers by default In previous versions, raw TCP sequence numbers were displayed by default, which was hard to read: 20:03:36.346098 ens33 sshd.183127 Out IP ${IP}.22 &gt; ${IP}.64755: Flags [P.], seq 1457857145:1457857369, ack 1966040526, win 65535, length 224, ParentProc [sshd.16678] 20:03:36.346909 ens33 sshd.183127 In IP ${IP}.64755 &gt; ${IP}.22: Flags [.], seq 1966040526, ack 1457857369, win 64240, length 0, ParentProc [sshd.16678] 20:03:36.348807 ens33 sshd.183127 Out IP ${IP}.22 &gt; ${IP}.64755: Flags [P.], seq 1457857369:1457857593, ack 1966040526, win 65535, length 224, ParentProc [sshd.16678] The new version displays TCP sequence numbers as relative numbers by default: 20:03:36.346098 ens33 sshd.183127 Out IP ${IP}.22 &gt; ${IP}.64755: Flags [P.], seq 1457857145:1457857369, ack 1966040526, win 65535, length 224, ParentProc [sshd.16678] 20:03:36.346909 ens33 sshd.183127 In IP ${IP}.64755 &gt; ${IP}.22: Flags [.], ack 224, win 64240, length 0, ParentProc [sshd.16678] 20:03:36.348807 ens33 sshd.183127 Out IP ${IP}.22 &gt; ${IP}.64755: Flags [P.], seq 224:448, ack 0, win 65535, length 224, ParentProc [sshd.16678] It also adds the -S and --absolute-tcp-sequence-numbers options to switch back to displaying raw numbers. If you have any additional improvements or new feature suggestions for ptcpdump, feel free to leave a comment in the comments section or project issues.",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "https://mozillazg.com/2025/11/whats-new-ptcpdump-v0.33-v0.37-en.html"
        },
        "datePublished": "2025-11-29"
    }
    </script>

</head>
<body>

<div class="navbar" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://mozillazg.com/" class="navbar-brand">
mozillazg's Blog            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                    <li><a href="https://mozillazg.com/feeds/all.atom.xml">Feed</a></li>
                    <li><a href="/2014/10/pages/about-me.html">About</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="https://mozillazg.com/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-lg-12">
    <section id="content" class="yue">
        <article>
            <header class="text-center">
                <h1>
                    <a href="https://mozillazg.com/2025/11/whats-new-ptcpdump-v0.33-v0.37-en.html"
                       rel="bookmark"
                       title="Permalink to Major Changes in ptcpdump versions 0.33 to 0.37">
                        Major Changes in ptcpdump versions 0.33 to 0.37
                    </a>
                </h1>
                <p class="published">
                    <time datetime="2025-11-29T00:00:00+00:00">
                    2025-11-29
                    </time>
                </p>
            </header>
            <div class="entry-content">
                <div class="well-sm article-info">
<footer class="post-info">
        <a href="https://mozillazg.com/category/others.html">others</a>


<span class="label label-default hide">Tags</span>
	<a href="https://mozillazg.com/tag/ptcpdump.html">ptcpdump</a>
    <span class="label label-default">Lang</span>
	<a href="https://mozillazg.com/2025/11/whats-new-ptcpdump-v0.33-v0.37.html">zh</a>

</footer><!-- /.post-info -->                </div>
                <div class="js-toc"></div>
                <div>
                <div class="section" id="preface">
<h2 id="hidpreface">Preface<a class="headerlink" href="#hidpreface" title="Permalink to this headline">¶</a></h2>
<p>This article introduces the main changes in <a class="reference external" href="https://github.com/mozillazg/ptcpdump">ptcpdump</a>
from v0.33 (after <a class="reference external" href="https://mozillazg.com/2025/01/whats-new-ptcpdump-v0.27-v0.32-en.html">v0.32</a> )
to the latest v0.37, in chronological order.</p>
</div>
<div class="section" id="main-changes">
<h2 id="hidmain-changes">Main changes<a class="headerlink" href="#hidmain-changes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="prefer-using-bpf-ringbuf-instead-of-bpf-perfbuf">
<h3 id="hidprefer-using-bpf-ringbuf-instead-of-bpf-perfbuf">Prefer using BPF ringbuf instead of BPF perfbuf<a class="headerlink" href="#hidprefer-using-bpf-ringbuf-instead-of-bpf-perfbuf" title="Permalink to this headline">¶</a></h3>
<p>If the Linux kernel on the current system supports BPF ringbuf,
ptcpdump will prioritize using BPF ringbuf to optimize program performance.
For more information about BPF ringbuf, please refer to
<a class="reference external" href="https://nakryiko.com/posts/bpf-ringbuf/">BPF ring buffer</a> .</p>
</div>
<div class="section" id="fix-the-issue-where-packet-filtering-by-process-failed-when-using-the-cgroup-skb-backend">
<h3 id="hidfix-the-issue-where-packet-filtering-by-process-failed-when-using-the-cgroup-skb-backend">Fix the issue where packet filtering by process failed when using the cgroup-skb backend<a class="headerlink" href="#hidfix-the-issue-where-packet-filtering-by-process-failed-when-using-the-cgroup-skb-backend" title="Permalink to this headline">¶</a></h3>
<p>Fixed an issue in previous versions where the features corresponding to
the <tt class="docutils literal"><span class="pre">--pid</span></tt> or <tt class="docutils literal"><span class="pre">--pname</span></tt> parameters failed when the <tt class="docutils literal"><span class="pre">cgroup-skb</span></tt> backend
was specified via <tt class="docutils literal"><span class="pre">--backend=cgroup-skb</span></tt>.</p>
</div>
<div class="section" id="support-reading-pcapng-format-data-from-standard-input">
<h3 id="hidsupport-reading-pcapng-format-data-from-standard-input">Support reading PcapNG format data from standard input<a class="headerlink" href="#hidsupport-reading-pcapng-format-data-from-standard-input" title="Permalink to this headline">¶</a></h3>
<p>It now supports reading PcapNG format data from standard input using <tt class="docutils literal"><span class="pre">-r</span> -</tt>:</p>
<pre class="literal-block">
$ cat data.pcapng | ptcpdump -r -
$ ptcpdump -r - &lt; data.pcapng
</pre>
</div>
<div class="section" id="support-file-rotation-using-c-and-w-options">
<h3 id="hidsupport-file-rotation-using-c-and-w-options">Support file rotation using -C and -W options<a class="headerlink" href="#hidsupport-file-rotation-using-c-and-w-options" title="Permalink to this headline">¶</a></h3>
<p>It now supports file rotation when saving data to a file using <tt class="docutils literal"><span class="pre">-w</span></tt>,
by using the <tt class="docutils literal"><span class="pre">-C</span></tt> or <tt class="docutils literal"><span class="pre">-W</span></tt> options:</p>
<pre class="literal-block">
sudo ptcpdump -i any -w data.pcapng -C 1mb
sudo ptcpdump -i any -w data.pcapng -C 1mb -W 5
</pre>
<p>Where:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">-C</span></tt> specifies the maximum file size. When this size is exceeded, a number will be
appended to the old filename (e.g., <tt class="docutils literal">data.pcapng1</tt>) to save historical data.</li>
<li><tt class="docutils literal"><span class="pre">-W</span></tt> specifies the number of files to keep. It must be used with <tt class="docutils literal"><span class="pre">-C</span></tt> to limit the number of files.</li>
</ul>
</div>
<div class="section" id="support-reading-pcap-filter-expressions-from-a-file-using-f-expression-file">
<h3 id="hidsupport-reading-pcap-filter-expressions-from-a-file-using-f-expression-file">Support reading pcap filter expressions from a file using -F/--expression-file<a class="headerlink" href="#hidsupport-reading-pcap-filter-expressions-from-a-file-using-f-expression-file" title="Permalink to this headline">¶</a></h3>
<p>It now supports reading pcap filter expressions from a file using the <tt class="docutils literal"><span class="pre">-F</span></tt> or <tt class="docutils literal"><span class="pre">--expression-file</span></tt> option:</p>
<pre class="literal-block">
sudo ptcpdump -i any -c 10 -F filter.txt
sudo ptcpdump -i any -c 10 --expression-file filter.txt
</pre>
</div>
<div class="section" id="support-specifying-output-time-format-using-tt-ttt-tttt-ttttt">
<h3 id="hidsupport-specifying-output-time-format-using-tt-ttt-tttt-ttttt">Support specifying output time format using -tt, -ttt, -tttt, -ttttt<a class="headerlink" href="#hidsupport-specifying-output-time-format-using-tt-ttt-tttt-ttttt" title="Permalink to this headline">¶</a></h3>
<p>It now supports using <tt class="docutils literal"><span class="pre">-tt</span></tt>, <tt class="docutils literal"><span class="pre">-ttt</span></tt>, <tt class="docutils literal"><span class="pre">-tttt</span></tt>, and <tt class="docutils literal"><span class="pre">-ttttt</span></tt> to
specify the time format when outputting packet information.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">-tt</span></tt> : Displays timestamp format, e.g., <tt class="docutils literal">1764417816.346098 ens33 sshd.183127 Out IP xx.xx.xx.xx.22 &gt; <span class="pre">xx.xx.xx.xx.64755:...</span></tt></li>
<li><tt class="docutils literal"><span class="pre">-ttt</span></tt> : Displays the time interval between two records, e.g., <tt class="docutils literal">00:00:00.000265 ens33 sshd.183127 Out IP xx.xx.xx.xx.22 &gt; <span class="pre">xx.xx.xx.xx.64755:...</span></tt></li>
<li><tt class="docutils literal"><span class="pre">-tttt</span></tt> : Displays date and time, e.g., <tt class="docutils literal"><span class="pre">2025-11-29</span> 20:03:36.346098 ens33 sshd.183127 Out IP xx.xx.xx.xx.22 &gt; <span class="pre">xx.xx.xx.xx.64755:...</span></tt></li>
<li><tt class="docutils literal"><span class="pre">-ttttt</span></tt> : Displays the time interval since the first record, e.g., <tt class="docutils literal">00:00:00.002708 ens33 sshd.183127 Out IP xx.xx.xx.xx.22 &gt; <span class="pre">xx.xx.xx.xx.64755:...</span></tt></li>
</ul>
</div>
<div class="section" id="support-using-system-installed-libpcap-via-dynamic-linking">
<h3 id="hidsupport-using-system-installed-libpcap-via-dynamic-linking">Support using system-installed libpcap via dynamic linking<a class="headerlink" href="#hidsupport-using-system-installed-libpcap-via-dynamic-linking" title="Permalink to this headline">¶</a></h3>
<p>Previous versions only supported compiling the dependent libpcap library via static linking.
It now supports using the system-installed libpcap library via dynamic linking to
meet the needs of simplified system library management.</p>
<p>You can use the dynamic link library through either of the following compilation methods:</p>
<pre class="literal-block">
$ CGO_ENABLED=1 go build -tags dynamic
$ make build-dynamic-link
</pre>
</div>
<div class="section" id="fix-the-issue-where-using-s-0-caused-the-program-to-crash">
<h3 id="hidfix-the-issue-where-using-s-0-caused-the-program-to-crash">Fix the issue where using -s 0 caused the program to crash<a class="headerlink" href="#hidfix-the-issue-where-using-s-0-caused-the-program-to-crash" title="Permalink to this headline">¶</a></h3>
<p>In previous versions, using the <tt class="docutils literal"><span class="pre">-s</span> 0</tt> option caused the ptcpdump program to crash. This issue is now fixed.</p>
</div>
<div class="section" id="fix-the-issue-of-inaccurate-timestamps-in-terminal-output">
<h3 id="hidfix-the-issue-of-inaccurate-timestamps-in-terminal-output">Fix the issue of inaccurate timestamps in terminal output<a class="headerlink" href="#hidfix-the-issue-of-inaccurate-timestamps-in-terminal-output" title="Permalink to this headline">¶</a></h3>
<p>In previous versions, the timestamps of packet information in the terminal
output drifted further from the actual event time over time.
This issue is now fixed.</p>
</div>
<div class="section" id="experimental-support-for-armv7-cpu-architecture">
<h3 id="hidexperimental-support-for-armv7-cpu-architecture">Experimental support for armv7 CPU architecture<a class="headerlink" href="#hidexperimental-support-for-armv7-cpu-architecture" title="Permalink to this headline">¶</a></h3>
<p>Experimental support for the armv7 CPU architecture has been added in the new version.
Since there is no CI environment supporting the armv7 architecture, this is only experimental support,
and compatibility in future versions cannot be guaranteed. If a version no longer supports armv7,
feedback is welcome.</p>
</div>
<div class="section" id="add-tp-btf-backend">
<h3 id="hidadd-tp-btf-backend">Add tp-btf backend<a class="headerlink" href="#hidadd-tp-btf-backend" title="Permalink to this headline">¶</a></h3>
<p>A new backend <tt class="docutils literal"><span class="pre">tp-btf</span></tt> has been added.
When this backend is used, ptcpdump uses <tt class="docutils literal">BPF_PROG_TYPE_TRACING</tt> eBPF programs to capture packets.
The main difference from the <tt class="docutils literal">tc</tt> backend is that <tt class="docutils literal"><span class="pre">tp-btf</span></tt> captures data from all network namespaces by default,
while the <tt class="docutils literal">tc</tt> backend defaults to capturing data only from the current
network namespace (use <tt class="docutils literal"><span class="pre">--netns</span></tt> to specify a specific network namespace).
For differences between backends, see <a class="reference external" href="https://github.com/mozillazg/ptcpdump?tab=readme-ov-file#backend">Backend</a> .</p>
<p>You can use the new <tt class="docutils literal"><span class="pre">tp-btf</span></tt> backend via <tt class="docutils literal"><span class="pre">--backend</span> <span class="pre">tp-btf</span></tt>.</p>
</div>
<div class="section" id="add-socket-filter-backend">
<h3 id="hidadd-socket-filter-backend">Add socket-filter backend<a class="headerlink" href="#hidadd-socket-filter-backend" title="Permalink to this headline">¶</a></h3>
<p>Another new backend <tt class="docutils literal"><span class="pre">socket-filter</span></tt> has been added.
When this backend is used, ptcpdump uses <tt class="docutils literal">BPF_PROG_TYPE_SOCKET_FILTER</tt> eBPF programs to capture packets.
When using this backend, the output of ptcpdump is closer to the output
of tcpdump because the packet capture timing is more similar.
For differences between backends, see <a class="reference external" href="https://github.com/mozillazg/ptcpdump?tab=readme-ov-file#backend">Backend</a> .</p>
<p>You can use the new <tt class="docutils literal"><span class="pre">socket-filter</span></tt> backend via <tt class="docutils literal"><span class="pre">--backend</span> <span class="pre">socket-filter</span></tt>.</p>
</div>
<div class="section" id="display-inode-id-in-cross-network-namespace-results">
<h3 id="hiddisplay-inode-id-in-cross-network-namespace-results">Display inode ID in cross-network namespace results<a class="headerlink" href="#hiddisplay-inode-id-in-cross-network-namespace-results" title="Permalink to this headline">¶</a></h3>
<p>Starting from the new version, when the output contains data from a non-current network namespace,
the program will attempt to display the inode ID of that network
namespace when showing network interface information:</p>
<pre class="literal-block">
12:20:31.336316 eth0&#64;4026533097 curl.405939 Out IP 172.17.0.4.38670 &gt; 1.1.1.1.80: Flags [S], seq 3064539219, win 64240, options [mss 1460,sackOK,TS val 1731159046 ecr 0,nop,wscale 7], length 0, ParentProc [bash.405653]
12:20:31.336382 veth1d387b0 curl.405939 In IP 172.17.0.4.38670 &gt; 1.1.1.1.80: Flags [S], seq 3064539219, win 64240, options [mss 1460,sackOK,TS val 1731159046 ecr 0,nop,wscale 7], length 0, ParentProc [bash.405653]
</pre>
</div>
<div class="section" id="add-ip-options-information-to-v-output">
<h3 id="hidadd-ip-options-information-to-v-output">Add IP Options information to -v output<a class="headerlink" href="#hidadd-ip-options-information-to-v-output" title="Permalink to this headline">¶</a></h3>
<p>The new version will output IP Options information when using the <tt class="docutils literal"><span class="pre">-v</span></tt> option for details:</p>
<pre class="literal-block">
09:48:31.908813 IP (tos 0x0, ttl 64, id 39183, offset 0, flags [none], proto TCP (6), length 80, options (RR 1.2.3.4, 1.0.0.0 0.0.0.0 0.0.0.0 0.0.0.0 0.0.0.0 0.0.0.0 0.0.0.0 0.0.0.0,EOL))
    ${IP}.1373 &gt; 1.1.1.1.80: Flags [S], cksum 0xbfb4, seq 122218745, win 512, length 0
</pre>
</div>
<div class="section" id="add-output-for-http-information">
<h3 id="hidadd-output-for-http-information">Add output for HTTP information<a class="headerlink" href="#hidadd-output-for-http-information" title="Permalink to this headline">¶</a></h3>
<p>If a packet contains HTTP data, the new version will output basic HTTP information by default:</p>
<pre class="literal-block">
13:27:02.285015 IP ${IP}.57166 &gt; ${IP}.80: Flags [P.], ..., length 73: HTTP: GET / HTTP/1.1
13:27:02.516911 IP ${IP}.80 &gt; ${IP}.57166: Flags [P.], ..., length 349: HTTP: HTTP/1.1 301 Moved Permanently
</pre>
<p>If <tt class="docutils literal"><span class="pre">-v</span></tt> is used for detailed output, detailed HTTP information will be included:</p>
<pre class="literal-block">
13:27:02.285015 IP (tos 0x0, ttl 64, id 8683, offset 0, flags [DF], proto TCP (6), length 113)
    ..., length 73: HTTP: GET / HTTP/1.1
        GET / HTTP/1.1
        Host: kernel.org
        User-Agent: curl/8.5.0
        Accept: */*

13:27:02.516911 IP (tos 0x0, ttl 128, id 62994, offset 0, flags [none], proto TCP (6), length 389)
    ..., length 349: HTTP: HTTP/1.1 301 Moved Permanently
        HTTP/1.1 301 Moved Permanently
        Server: nginx
        Date: Sat, 05 Jul 2025 13:27:02 GMT
        Content-Type: text/html
        Content-Length: 162
        Connection: keep-alive
        Location: https://kernel.org/

        &lt;html&gt;
        &lt;head&gt;&lt;title&gt;301 Moved Permanently&lt;/title&gt;&lt;/head&gt;
        &lt;body&gt;
        &lt;center&gt;&lt;h1&gt;301 Moved Permanently&lt;/h1&gt;&lt;/center&gt;
        &lt;hr&gt;&lt;center&gt;nginx&lt;/center&gt;
        &lt;/body&gt;
        &lt;/html&gt;
</pre>
</div>
<div class="section" id="add-output-for-tls-information">
<h3 id="hidadd-output-for-tls-information">Add output for TLS information<a class="headerlink" href="#hidadd-output-for-tls-information" title="Permalink to this headline">¶</a></h3>
<p>If a packet contains TLS data, the new version will output TLS Client Hello
or Server Hello information by default:</p>
<pre class="literal-block">
13:48:40.371849 IP ${IP}.47812 &gt; ${IP}.443: Flags [P.], ..., length 517: TLSv1.0: Client Hello (SNI=kernel.org)
13:48:40.606677 IP ${IP}.443 &gt; ${IP}.47812: Flags [P.], ..., length 1412: TLSv1.3: Server Hello
</pre>
</div>
<div class="section" id="add-support-for-capturing-on-l3-network-interface-devices">
<h3 id="hidadd-support-for-capturing-on-l3-network-interface-devices">Add support for capturing on L3 network interface devices<a class="headerlink" href="#hidadd-support-for-capturing-on-l3-network-interface-devices" title="Permalink to this headline">¶</a></h3>
<p>Previous versions only supported capturing on L2 network interface devices.
The new version adds support for L3 network interfaces (such as TUN devices).</p>
</div>
<div class="section" id="change-to-display-tcp-sequence-numbers-as-relative-numbers-by-default">
<h3 id="hidchange-to-display-tcp-sequence-numbers-as-relative-numbers-by-default">Change to display TCP sequence numbers as relative numbers by default<a class="headerlink" href="#hidchange-to-display-tcp-sequence-numbers-as-relative-numbers-by-default" title="Permalink to this headline">¶</a></h3>
<p>In previous versions, raw TCP sequence numbers were displayed by default, which was hard to read:</p>
<pre class="literal-block">
20:03:36.346098 ens33 sshd.183127 Out IP ${IP}.22 &gt; ${IP}.64755: Flags [P.], seq 1457857145:1457857369, ack 1966040526, win 65535, length 224, ParentProc [sshd.16678]
20:03:36.346909 ens33 sshd.183127 In IP ${IP}.64755 &gt; ${IP}.22: Flags [.], seq 1966040526, ack 1457857369, win 64240, length 0, ParentProc [sshd.16678]
20:03:36.348807 ens33 sshd.183127 Out IP ${IP}.22 &gt; ${IP}.64755: Flags [P.], seq 1457857369:1457857593, ack 1966040526, win 65535, length 224, ParentProc [sshd.16678]
</pre>
<p>The new version displays TCP sequence numbers as relative numbers by default:</p>
<pre class="literal-block">
20:03:36.346098 ens33 sshd.183127 Out IP ${IP}.22 &gt; ${IP}.64755: Flags [P.], seq 1457857145:1457857369, ack 1966040526, win 65535, length 224, ParentProc [sshd.16678]
20:03:36.346909 ens33 sshd.183127 In IP ${IP}.64755 &gt; ${IP}.22: Flags [.], ack 224, win 64240, length 0, ParentProc [sshd.16678]
20:03:36.348807 ens33 sshd.183127 Out IP ${IP}.22 &gt; ${IP}.64755: Flags [P.], seq 224:448, ack 0, win 65535, length 224, ParentProc [sshd.16678]
</pre>
<p>It also adds the <tt class="docutils literal"><span class="pre">-S</span></tt> and <tt class="docutils literal"><span class="pre">--absolute-tcp-sequence-numbers</span></tt> options to
switch back to displaying raw numbers.</p>
<p>If you have any additional improvements or new feature suggestions for ptcpdump,
feel free to leave a comment in the comments section or project issues.</p>
</div>
</div>

                </div>
            </div>
            <!-- /.entry-content -->
<section class="text-center">
  
<div id="donate"></div>

<div class="social-share"></div>
<div class="social-comment-note">
<p class="text-center">有任何建议和想法欢迎在下方评论区留言或者加我<a href="/static/wechat.png">微信</a>交流</p>
</div>

</section>
<section class="well" id="related-posts">
    <p>Related Posts:</p>
    <ul>
        <li><a href="https://mozillazg.com/2024/07/ebpf-ptcpdump-capturing-the-network-traffic-of-a-process-or-container-or-pod-en.html">ptcpdump: Capturing the Network Traffic of any Process, Container, or Pod</a></li>
        <li><a href="https://mozillazg.com/2025/01/whats-new-ptcpdump-v0.27-v0.32-en.html">ptcpdump v0.27 ~ v0.32 的主要变更内容</a></li>
        <li><a href="https://mozillazg.com/2024/11/whats-new-ptcpdump-v1.16-v1.26-en.html">Major Changes in ptcpdump versions 0.16 to 0.26</a></li>
        <li><a href="https://mozillazg.com/2025/11/whats-new-ptcpdump-v0.33-v0.37.html">ptcpdump v0.33 ~ v0.37 的主要变更内容</a></li>
        <li><a href="https://mozillazg.com/2025/01/whats-new-ptcpdump-v0.27-v0.32.html">ptcpdump v0.27 ~ v0.32 的主要变更内容</a></li>
    </ul>
</section>
<hr/>
<section class="comments" id="comments">
    <h2>Comments</h2>
    <script src="https://giscus.app/client.js"
            data-repo="mozillazg/mozillazg.github.com"
            data-repo-id="MDEwOlJlcG9zaXRvcnk3Njc4MTA2"
            data-category="Announcements"
            data-category-id="DIC_kwDOAHUoms4CckZl"
            data-mapping="pathname"
            data-strict="0"
            data-reactions-enabled="1"
            data-emit-metadata="0"
            data-input-position="bottom"
            data-theme="preferred_color_scheme"
            data-description="<description>"
            data-lang="en"
            data-loading="lazy"
            crossorigin="anonymous"
            async>
    </script>
</section>
        </article>
    </section>

        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2025 mozillazg
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>
            &middot; <a href="/privacy-policy.html" target="_blank">Privacy</a>              <p><small>  <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="/static/images/by-sa-80x15.png" /></a>
    &quot;<span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">mozillazg's Blog</span>&quot; by <a xmlns:cc="http://creativecommons.org/ns#" href="https://mozillazg.com" property="cc:attributionName" rel="cc:attributionURL">mozillazg</a> is
  licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>, except where indicated otherwise.
</small></p>
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="/theme/cdn.jsdelivr.net/npm/jquery@2.1.1/dist/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/theme/cdn.jsdelivr.net/npm/bootstrap@3.3.4/dist/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->


<!-- share.js -->
<script src="/theme/cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script>



<script src="/theme/cdn.jsdelivr.net/npm/tocbot@3.0.2/dist/tocbot.min.js"></script>
<script>
$(document).ready(function(){
  tocbot.init({
    // Where to render the table of contents.
    tocSelector: '.js-toc',
    // Where to grab the headings to build the table of contents.
    contentSelector: '.entry-content',
    // Which headings to grab inside of the contentSelector element.
    headingSelector: 'h2, h3, h4,h5',
    // Headings that match the ignoreSelector will be skipped.
    ignoreSelector: '.js-toc-ignore',
    // Main class to add to links.
    linkClass: 'toc-link',
    // Extra classes to add to links.
    extraLinkClasses: '',
    // Class to add to active links,
    // the link corresponding to the top most heading on the page.
    activeLinkClass: 'is-active-link',
    // Main class to add to lists.
    listClass: 'toc-list',
    // Extra classes to add to lists.
    extraListClasses: '',
    // Class that gets added when a list should be collapsed.
    isCollapsedClass: 'is-collapsed',
    // Class that gets added when a list should be able
    // to be collapsed but isn't necessarily collpased.
    collapsibleClass: 'is-collapsible',
    // Class to add to list items.
    listItemClass: 'toc-list-item',
    // How many heading levels should not be collpased.
    // For example, number 6 will show everything since
    // there are only 6 heading levels and number 0 will collpase them all.
    // The sections that are hidden will open
    // and close as you scroll to headings within them.
    collapseDepth: 6,
    // Smooth scrolling enabled.
    smoothScroll: true,
    // Smooth scroll duration.
    smoothScrollDuration: 420,
    // Callback for scroll end (requires: smoothScroll).
    scrollEndCallback: function (e) {},
    // Headings offset between the headings and the top of the document (this is meant for minor adjustments).
    headingsOffset: 0,
    // Timeout between events firing to make sure it's
    // not too rapid (for performance reasons).
    throttleTimeout: 50,
    // Element to add the positionFixedClass to.
    positionFixedSelector: null,
    // Fixed position class to add to make sidebar fixed after scrolling
    // down past the fixedSidebarOffset.
    positionFixedClass: 'is-position-fixed',
    // fixedSidebarOffset can be any number but by default is set
    // to auto which sets the fixedSidebarOffset to the sidebar
    // element's offsetTop from the top of the document on init.
    fixedSidebarOffset: 'auto',
    // includeHtml can be set to true to include the HTML markup from the
    // heading node instead of just including the textContent.
    includeHtml: false
  });
});
</script>
</body>
</html>