<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Huang Huang çš„åšå®¢</title><link href="https://mozillazg.com/" rel="alternate"></link><link href="https://mozillazg.com/feeds/others.atom.xml" rel="self"></link><id>https://mozillazg.com/</id><updated>2018-01-28T00:00:00+00:00</updated><entry><title>jq å¸¸ç”¨æ“ä½œ</title><link href="https://mozillazg.com/2018/01/jq-use-examples-cookbook.html" rel="alternate"></link><updated>2018-01-28T00:00:00+00:00</updated><author><name>mozillazg</name></author><id>tag:mozillazg.com,2018-01-28:2018/01/jq-use-examples-cookbook.html</id><summary type="html">&lt;p&gt;&lt;a class="reference external" href="https://stedolan.github.io/jq/"&gt;jq&lt;/a&gt; æ˜¯ä¸ªéå¸¸å¼ºå¤§çš„å¤„ç† JSON æ•°æ®çš„å‘½ä»¤è¡Œå·¥å…·ã€‚è¿™é‡Œè®°å½•ä¸€ä¸‹æœ€è¿‘ä½¿ç”¨ jq æ‰€ä½¿ç”¨çš„ä¸€äº›æ“ä½œï¼Œæ–¹ä¾¿ä»¥åä½¿ç”¨çš„æ—¶å€™ç›´æ¥å‚è€ƒã€‚&lt;/p&gt;
&lt;div class="section" id="id1"&gt;
&lt;h2 id="hidid1"&gt;åŸºæœ¬æ“ä½œ&lt;a class="headerlink" href="#hidid1" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;jq çš„å‘½ä»¤è¡Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ jq -h
jq - commandline JSON processor &lt;span class="o"&gt;[&lt;/span&gt;version 1.5&lt;span class="o"&gt;]&lt;/span&gt;
Usage: jq &lt;span class="o"&gt;[&lt;/span&gt;options&lt;span class="o"&gt;]&lt;/span&gt; &amp;lt;jq filter&amp;gt; &lt;span class="o"&gt;[&lt;/span&gt;file...&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æœ¬æ–‡ä¸»è¦è®²çš„æ˜¯å¸¸ç”¨çš„ &amp;lt;jq filter&amp;gt;ã€‚&lt;/p&gt;
&lt;div class="section" id="json"&gt;
&lt;h3 id="hidjson"&gt;è¾“å‡ºåŸå§‹çš„ JSON æ•°æ®&lt;a class="headerlink" href="#hidjson" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;é»˜è®¤ä¸æŒ‡å®š filter å°±ä¼šåŸæ ·è¾“å‡ºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ &lt;tt class="docutils literal"&gt;.&lt;/tt&gt; è¿‡æ»¤å™¨&lt;/p&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;.&lt;/tt&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;{&amp;quot;url&amp;quot;: &amp;quot;mozillazg.com&amp;quot;}&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;jq .
&lt;span class="o"&gt;{&lt;/span&gt;
  &lt;span class="s2"&gt;&amp;quot;url&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;mozillazg.com&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;jq play åœ¨çº¿è¿è¡Œé“¾æ¥ï¼š&lt;a class="reference external" href="https://jqplay.org/s/KhRuUFCP2h"&gt;https://jqplay.org/s/KhRuUFCP2h&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="object"&gt;
&lt;h3 id="hidobject"&gt;object æ“ä½œ&lt;a class="headerlink" href="#hidobject" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h3&gt;
&lt;div class="section" id="key"&gt;
&lt;h4 id="hidkey"&gt;è·å–æŸä¸ª key çš„å€¼&lt;a class="headerlink" href="#hidkey" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;.key&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;.foo.bar&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;.[&amp;quot;key&amp;quot;]&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;{&amp;quot;url&amp;quot;: &amp;quot;mozillazg.com&amp;quot;}&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;jq .url
&lt;span class="s2"&gt;&amp;quot;mozillazg.com&amp;quot;&lt;/span&gt;
$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;{&amp;quot;url&amp;quot;: &amp;quot;mozillazg.com&amp;quot;}&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; jq &lt;span class="s1"&gt;&amp;#39;.[&amp;quot;url&amp;quot;]&amp;#39;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;mozillazg.com&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;jq play: &lt;a class="reference external" href="https://jqplay.org/s/Tn7NUbP4Dr"&gt;https://jqplay.org/s/Tn7NUbP4Dr&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥åœ¨åé¢åŠ ä¸ªé—®å·è¡¨ç¤ºå½“è¾“å…¥ä¸æ˜¯ object æ—¶ä¸ä¼šæŠ¥é”™ &lt;tt class="docutils literal"&gt;.key?&lt;/tt&gt; :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;1&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;jq &lt;span class="s1"&gt;&amp;#39;.a&amp;#39;&lt;/span&gt;
jq: error &lt;span class="o"&gt;(&lt;/span&gt;at &amp;lt;stdin&amp;gt;:1&lt;span class="o"&gt;)&lt;/span&gt;: Cannot index number with string &lt;span class="s2"&gt;&amp;quot;a&amp;quot;&lt;/span&gt;
$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;1&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;jq &lt;span class="s1"&gt;&amp;#39;.a?&amp;#39;&lt;/span&gt;
$
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;?&lt;/tt&gt; è§„åˆ™é€‚åˆæ‰€æœ‰æ­£ç¡®çš„ filterï¼Œåœ¨ filter æœ€ååŠ ä¸Š &lt;tt class="docutils literal"&gt;?&lt;/tt&gt; å¯ä»¥å¿½ç•¥é”™è¯¯ä¿¡æ¯&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id2"&gt;
&lt;h4 id="hidid2"&gt;æ‰€æœ‰çš„ key ç»„æˆçš„æ•°ç»„&lt;a class="headerlink" href="#hidid2" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;keys&lt;/tt&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;{&amp;quot;url&amp;quot;: &amp;quot;mozillazg.com&amp;quot;, &amp;quot;name&amp;quot;: &amp;quot;mozillazg&amp;quot;}&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;jq keys
&lt;span class="o"&gt;[&lt;/span&gt;
  &lt;span class="s2"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;,
  &lt;span class="s2"&gt;&amp;quot;url&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;jq play: &lt;a class="reference external" href="https://jqplay.org/s/_5KiPRS75r"&gt;https://jqplay.org/s/_5KiPRS75r&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="value"&gt;
&lt;h4 id="hidvalue"&gt;æ‰€æœ‰çš„ value&lt;a class="headerlink" href="#hidvalue" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;.[]&lt;/tt&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;{&amp;quot;url&amp;quot;: &amp;quot;mozillazg.com&amp;quot;, &amp;quot;name&amp;quot;: &amp;quot;mozillazg&amp;quot;}&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;jq .&lt;span class="o"&gt;[]&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;mozillazg.com&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;mozillazg&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;jq play: &lt;a class="reference external" href="https://jqplay.org/s/6HRvEND8AB"&gt;https://jqplay.org/s/6HRvEND8AB&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id3"&gt;
&lt;h4 id="hidid3"&gt;æ‰€æœ‰çš„ value ç»„æˆçš„æ•°ç»„&lt;a class="headerlink" href="#hidid3" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;[.[]]&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;{&amp;quot;url&amp;quot;: &amp;quot;mozillazg.com&amp;quot;, &amp;quot;name&amp;quot;: &amp;quot;mozillazg&amp;quot;}&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;jq &lt;span class="o"&gt;[&lt;/span&gt;.&lt;span class="o"&gt;[]]&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;
  &lt;span class="s2"&gt;&amp;quot;mozillazg.com&amp;quot;&lt;/span&gt;,
  &lt;span class="s2"&gt;&amp;quot;mozillazg&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;jq play: &lt;a class="reference external" href="https://jqplay.org/s/JGIX6hTt_8"&gt;https://jqplay.org/s/JGIX6hTt_8&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id4"&gt;
&lt;h3 id="hidid4"&gt;æ•°ç»„æ“ä½œ&lt;a class="headerlink" href="#hidid4" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h3&gt;
&lt;div class="section" id="id5"&gt;
&lt;h4 id="hidid5"&gt;å–å‡ºæ‰€æœ‰å…ƒç´ &lt;a class="headerlink" href="#hidid5" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;.[]&lt;/tt&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;[{&amp;quot;name&amp;quot;: &amp;quot;tom&amp;quot;}, {&amp;quot;name&amp;quot;: &amp;quot;mozillazg&amp;quot;}]&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;jq .&lt;span class="o"&gt;[]&lt;/span&gt;
&lt;span class="o"&gt;{&lt;/span&gt;
  &lt;span class="s2"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;tom&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;span class="o"&gt;{&lt;/span&gt;
  &lt;span class="s2"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;mozillazg&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;jq play: &lt;a class="reference external" href="https://jqplay.org/s/Y9UgK_4xxE"&gt;https://jqplay.org/s/Y9UgK_4xxE&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="slice"&gt;
&lt;h4 id="hidslice"&gt;åˆ‡åˆ†(slice)&lt;a class="headerlink" href="#hidslice" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;.[1]&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;.[0:2]&lt;/tt&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;[{&amp;quot;name&amp;quot;: &amp;quot;tom&amp;quot;}, {&amp;quot;name&amp;quot;: &amp;quot;mozillazg&amp;quot;}, {&amp;quot;name&amp;quot;: &amp;quot;jim&amp;quot;}]&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;jq .&lt;span class="o"&gt;[&lt;/span&gt;1&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;{&lt;/span&gt;
  &lt;span class="s2"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;mozillazg&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;[{&amp;quot;name&amp;quot;: &amp;quot;tom&amp;quot;}, {&amp;quot;name&amp;quot;: &amp;quot;mozillazg&amp;quot;}, {&amp;quot;name&amp;quot;: &amp;quot;jim&amp;quot;}]&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;jq .&lt;span class="o"&gt;[&lt;/span&gt;0:2&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;
  &lt;span class="o"&gt;{&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;tom&amp;quot;&lt;/span&gt;
  &lt;span class="o"&gt;}&lt;/span&gt;,
  &lt;span class="o"&gt;{&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;mozillazg&amp;quot;&lt;/span&gt;
  &lt;span class="o"&gt;}&lt;/span&gt;
&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;jq play: &lt;a class="reference external" href="https://jqplay.org/s/seNL7hW38W"&gt;https://jqplay.org/s/seNL7hW38W&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="filter"&gt;
&lt;h3 id="hidfilter"&gt;ä½¿ç”¨å¤šä¸ª filter&lt;a class="headerlink" href="#hidfilter" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;,&lt;/tt&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;{&amp;quot;url&amp;quot;: &amp;quot;mozillazg.com&amp;quot;, &amp;quot;name&amp;quot;: &amp;quot;mozillazg&amp;quot;}&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;jq &lt;span class="s1"&gt;&amp;#39;.url, .name&amp;#39;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;mozillazg.com&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;mozillazg&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;jq play: &lt;a class="reference external" href="https://jqplay.org/s/02CPHO1ESj"&gt;https://jqplay.org/s/02CPHO1ESj&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id6"&gt;
&lt;h2 id="hidid6"&gt;é«˜çº§æ“ä½œ&lt;a class="headerlink" href="#hidid6" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h2&gt;
&lt;div class="section" id="id7"&gt;
&lt;h3 id="hidid7"&gt;ç®¡é“&lt;a class="headerlink" href="#hidid7" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡ &lt;tt class="docutils literal"&gt;|&lt;/tt&gt; å®ç°ç±»ä¼¼ç®¡é“çš„åŠŸèƒ½:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;{&amp;quot;url&amp;quot;: &amp;quot;mozillazg.com&amp;quot;, &amp;quot;name&amp;quot;: &amp;quot;mozillazg&amp;quot;}&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;jq &lt;span class="s1"&gt;&amp;#39;.|.url&amp;#39;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;mozillazg.com&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;jq play: &lt;a class="reference external" href="https://jqplay.org/s/L5bu1ovLr-"&gt;https://jqplay.org/s/L5bu1ovLr-&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id8"&gt;
&lt;h3 id="hidid8"&gt;è·å–å†…å®¹çš„é•¿åº¦(å­—ç¬¦ä¸²ï¼Œæ•°ç»„çš„é•¿åº¦)&lt;a class="headerlink" href="#hidid8" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;length&lt;/tt&gt; å¯ä»¥è·å–å­—ç¬¦ä¸²æˆ–æ•°ç»„çš„é•¿åº¦:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;{&amp;quot;url&amp;quot;: &amp;quot;mozillazg.com&amp;quot;, &amp;quot;name&amp;quot;: &amp;quot;mozillazg&amp;quot;}&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;jq &lt;span class="s1"&gt;&amp;#39;.url|length&amp;#39;&lt;/span&gt;
13
$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;[&amp;quot;mozillazg.com&amp;quot;, &amp;quot;mozillazg&amp;quot;]&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;jq &lt;span class="s1"&gt;&amp;#39;.|length&amp;#39;&lt;/span&gt;
2
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;jq play: &lt;a class="reference external" href="https://jqplay.org/s/9TqdXbe0lo"&gt;https://jqplay.org/s/9TqdXbe0lo&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="map"&gt;
&lt;h3 id="hidmap"&gt;map&lt;a class="headerlink" href="#hidmap" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;map(foo)&lt;/tt&gt; å¯ä»¥å®ç°å¯¹æ•°ç»„çš„æ¯ä¸€é¡¹è¿›è¡Œæ“ä½œï¼Œç„¶ååˆå¹¶ç»“æœçš„åŠŸèƒ½:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;[&amp;quot;mozillazg.com&amp;quot;, &amp;quot;mozillazg&amp;quot;]&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; jq &lt;span class="s1"&gt;&amp;#39;map(length)&amp;#39;&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;
  13,
  9
&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;jq play: &lt;a class="reference external" href="https://jqplay.org/s/BjgdGsjPem"&gt;https://jqplay.org/s/BjgdGsjPem&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="filter-select"&gt;
&lt;h3 id="hidfilter-select"&gt;filter(select)&lt;a class="headerlink" href="#hidfilter-select" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;select(foo)&lt;/tt&gt; å¯ä»¥å®ç°å¯¹è¾“å…¥é¡¹è¿›è¡Œåˆ¤æ–­ï¼Œåªè¿”å›ç¬¦åˆæ¡ä»¶çš„é¡¹:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;[&amp;quot;mozillazg.com&amp;quot;, &amp;quot;mozillazg&amp;quot;]&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; jq &lt;span class="s1"&gt;&amp;#39;map(select(.|length &amp;gt; 9))&amp;#39;&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;
  &lt;span class="s2"&gt;&amp;quot;mozillazg.com&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;jq play: &lt;a class="reference external" href="https://jqplay.org/s/8Zrwy7dDxW"&gt;https://jqplay.org/s/8Zrwy7dDxW&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id9"&gt;
&lt;h3 id="hidid9"&gt;å­—ç¬¦ä¸²æ’å€¼ï¼Œæ‹¼æ¥&lt;a class="headerlink" href="#hidid9" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¯ä»¥ä½¿ç”¨ &lt;tt class="docutils literal"&gt;\(foo)&lt;/tt&gt; å®ç°å­—ç¬¦ä¸²æ’å€¼åŠŸèƒ½:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;{&amp;quot;url&amp;quot;: &amp;quot;mozillazg.com&amp;quot;, &amp;quot;name&amp;quot;: &amp;quot;mozillazg&amp;quot;}&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;jq &lt;span class="s1"&gt;&amp;#39;&amp;quot;hi \(.name)&amp;quot;&amp;#39;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;hi mozillazg&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ³¨æ„è¦ç”¨åŒå¼•å·åŒ…å›´èµ·æ¥ï¼Œè¡¨ç¤ºæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;p&gt;jq play: &lt;a class="reference external" href="https://jqplay.org/s/k90JFcDqPz"&gt;https://jqplay.org/s/k90JFcDqPz&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ &lt;tt class="docutils literal"&gt;+&lt;/tt&gt; å®ç°å­—ç¬¦ä¸²æ‹¼æ¥:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;{&amp;quot;url&amp;quot;: &amp;quot;mozillazg.com&amp;quot;, &amp;quot;name&amp;quot;: &amp;quot;mozillazg&amp;quot;}&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;jq &lt;span class="s1"&gt;&amp;#39;&amp;quot;hi &amp;quot; + .name&amp;#39;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;hi mozillazg&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="if-elif-else"&gt;
&lt;h3 id="hidif-elif-else"&gt;if/elif/else&lt;a class="headerlink" href="#hidif-elif-else" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¯ä»¥ä½¿ç”¨ &lt;tt class="docutils literal"&gt;if .. then .. elif .. then .. else .. end&lt;/tt&gt; å®ç°æ¡ä»¶åˆ¤æ–­:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;[0, 1, 2, 3]&amp;#39;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="p"&gt;|&lt;/span&gt; jq &lt;span class="s1"&gt;&amp;#39;map(if . == 0 then &amp;quot;zero&amp;quot; elif . == 1 then &amp;quot;one&amp;quot; elif . == 2 then &amp;quot;two&amp;quot; else &amp;quot;many&amp;quot; end)&amp;#39;&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;
  &lt;span class="s2"&gt;&amp;quot;zero&amp;quot;&lt;/span&gt;,
  &lt;span class="s2"&gt;&amp;quot;one&amp;quot;&lt;/span&gt;,
  &lt;span class="s2"&gt;&amp;quot;two&amp;quot;&lt;/span&gt;,
  &lt;span class="s2"&gt;&amp;quot;many&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;jq play: &lt;a class="reference external" href="https://jqplay.org/s/y8WwvHISH4"&gt;https://jqplay.org/s/y8WwvHISH4&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id10"&gt;
&lt;h3 id="hidid10"&gt;æ„é€  object æˆ–æ•°ç»„&lt;a class="headerlink" href="#hidid10" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡ &lt;tt class="docutils literal"&gt;{}&lt;/tt&gt; å’Œ &lt;tt class="docutils literal"&gt;[]&lt;/tt&gt; æ„é€ æ–°çš„ object æˆ– æ•°ç»„ã€‚&lt;/p&gt;
&lt;p&gt;object:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;[&amp;quot;mozillazg.com&amp;quot;, &amp;quot;mozillazg&amp;quot;]&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;jq &lt;span class="s1"&gt;&amp;#39;{name: .[1]}&amp;#39;&lt;/span&gt;
&lt;span class="o"&gt;{&lt;/span&gt;
  &lt;span class="s2"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;mozillazg&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;jq play: &lt;a class="reference external" href="https://jqplay.org/s/sccwJi75jb"&gt;https://jqplay.org/s/sccwJi75jb&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ•°ç»„:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;{&amp;quot;url&amp;quot;: &amp;quot;mozillazg.com&amp;quot;, &amp;quot;name&amp;quot;: &amp;quot;mozillazg&amp;quot;}&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;jq &lt;span class="s1"&gt;&amp;#39;[.name, .url]&amp;#39;&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;
  &lt;span class="s2"&gt;&amp;quot;mozillazg&amp;quot;&lt;/span&gt;,
  &lt;span class="s2"&gt;&amp;quot;mozillazg.com&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;jq play: &lt;a class="reference external" href="https://jqplay.org/s/LYflwM4kJM"&gt;https://jqplay.org/s/LYflwM4kJM&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;{&amp;quot;name&amp;quot;: &amp;quot;mozillazg&amp;quot;, &amp;quot;ages&amp;quot;: [1, 2]}&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; jq &lt;span class="s1"&gt;&amp;#39;{name, age: .ages[]}&amp;#39;&lt;/span&gt;
&lt;span class="o"&gt;{&lt;/span&gt;
  &lt;span class="s2"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;mozillazg&amp;quot;&lt;/span&gt;,
  &lt;span class="s2"&gt;&amp;quot;age&amp;quot;&lt;/span&gt;: 1
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;span class="o"&gt;{&lt;/span&gt;
  &lt;span class="s2"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;mozillazg&amp;quot;&lt;/span&gt;,
  &lt;span class="s2"&gt;&amp;quot;age&amp;quot;&lt;/span&gt;: 2
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="join"&gt;
&lt;h3 id="hidjoin"&gt;æ•°ç»„ join&lt;a class="headerlink" href="#hidjoin" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;join&lt;/tt&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;[&amp;quot;mozillazg.com&amp;quot;, &amp;quot;mozillazg&amp;quot;]&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; jq &lt;span class="s1"&gt;&amp;#39;.|join(&amp;quot; | &amp;quot;)&amp;#39;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;mozillazg.com | mozillazg&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="split"&gt;
&lt;h3 id="hidsplit"&gt;å­—ç¬¦ä¸² split&lt;a class="headerlink" href="#hidsplit" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;split&lt;/tt&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;quot;mozillazg.com | mozillazg&amp;quot;&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;jq &lt;span class="s1"&gt;&amp;#39;split(&amp;quot; | &amp;quot;)&amp;#39;&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;
  &lt;span class="s2"&gt;&amp;quot;mozillazg.com&amp;quot;&lt;/span&gt;,
  &lt;span class="s2"&gt;&amp;quot;mozillazg&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ›´å¤šçš„å‡½æ•°å’Œç”¨æ³•è¯¦è§ &lt;a class="reference external" href="https://stedolan.github.io/jq/manual/"&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id11"&gt;
&lt;h2 id="hidid11"&gt;å‚è€ƒèµ„æ–™&lt;a class="headerlink" href="#hidid11" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="https://stedolan.github.io/jq/"&gt;jq&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://jqplay.org/"&gt;jq play&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</summary><category term="jq"></category></entry><entry><title>ZooKeeper FastLeader é€‰ä¸¾</title><link href="https://mozillazg.com/2017/03/zookeeper-fastleader-elect-leader.html" rel="alternate"></link><updated>2017-03-11T00:00:00+00:00</updated><author><name>mozillazg</name></author><id>tag:mozillazg.com,2017-03-11:2017/03/zookeeper-fastleader-elect-leader.html</id><summary type="html">&lt;p&gt;ZooKeeper åœ¨é›†ç¾¤æ¨¡å¼ä¸‹é»˜è®¤ä¼šä½¿ç”¨ FastLeader ç®—æ³•æ¥é€‰ä¸¾ leaderã€‚ä¸‹é¢å°†è¯´è¯´ ZooKeeper é›†ç¾¤ä½¿ç”¨ FastLeader ç®—æ³•é€‰ä¸¾çš„å…·ä½“è¿‡ç¨‹ã€‚å†™çš„è¿‡ç¨‹ä¸­å‚è€ƒäº†å¤šç¯‡æ–‡ç« ï¼Œè¯¦è§æ–‡æœ«çš„å‚è€ƒèµ„æ–™ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆéœ€è¦æ˜ç¡®å‡ ä¸ªæ¦‚å¿µ:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;èŠ‚ç‚¹çŠ¶æ€ï¼šæ¯ä¸ªé›†ç¾¤ä¸­çš„èŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªçŠ¶æ€ LOOKING/FOLLOWING/LEADING/OBSERVINGã€‚æ¯ä¸ªèŠ‚ç‚¹å¯åŠ¨çš„æ—¶å€™éƒ½æ˜¯ LOOKING çŠ¶æ€ï¼Œå¦‚æœè¿™ä¸ªèŠ‚ç‚¹å‚ä¸é€‰ä¸¾ä½†æœ€åä¸æ˜¯leaderï¼Œåˆ™çŠ¶æ€æ˜¯ FOLLOWINGï¼Œå¦‚æœä¸å‚ä¸é€‰ä¸¾åˆ™æ˜¯ OBSERVINGï¼Œleader çš„çŠ¶æ€æ˜¯ LEADINGã€‚&lt;/li&gt;
&lt;li&gt;epoch: è¡¨ç¤ºé€‰ä¸¾è½®æ•°ã€‚&lt;/li&gt;
&lt;li&gt;zxid: äº‹åŠ¡ zxid åŒ…å«äº†æœ¬åœ°æ•°æ®çš„æœ€åæ›´æ–°æ—¶é—´ç›¸å…³çš„ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;serverid: å½“å‰ server çš„ ID, é€šè¿‡é…ç½®æ–‡ä»¶æŒ‡å®š(æ¯”å¦‚: &lt;tt class="docutils literal"&gt;echo '1' &amp;gt; myid&lt;/tt&gt;)ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…ˆç”¨æ–‡å­—æè¿°ä¸€ä¸‹å¤§æ¦‚çš„é€‰ä¸¾æ€æƒ³ï¼š&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;åœ¨æ²¡æœ‰é‡åˆ°æ¯”æˆ‘ç‰›çš„äººä¹‹å‰ï¼Œç¬¬ä¸€ç¥¨æ¨èæˆ‘è‡ªå·±&lt;/li&gt;
&lt;li&gt;å½“æ¥æ”¶åˆ°å…¶ä»–äººçš„é€‰ä¸¾ä¿¡æ¯æ—¶ï¼Œå¦‚æœä»–ä»¬æ¨èçš„äººæ²¡æˆ‘ç‰›ï¼Œé‚£æˆ‘è¿˜æ˜¯æ¨èæˆ‘è‡ªå·±&lt;/li&gt;
&lt;li&gt;æˆ‘æœ‰ä¸€ä¸ªç¥¨ç®±ï¼Œä¿å­˜äº†å½“å‰è¿™ä¸€è½®é€‰ä¸¾ä¸­è‡ªå·±çš„æ¨èäººä»¥åŠæ¥æ”¶åˆ°çš„æ¨èäººä¿¡æ¯ï¼Œä¸€äººä¸€ç¥¨ï¼Œé‡å¤æˆ–è¿‡æœŸçš„ç¥¨æ¦‚ä¸æ¥å—&lt;/li&gt;
&lt;li&gt;å½“æˆ‘å‘ç°äº†æ¯”æˆ‘ç‰›çš„äººçš„æ—¶å€™ï¼Œæ”¹ä¸ºæ¨èè¿™ä¸ªç‰›äºº&lt;/li&gt;
&lt;li&gt;å¦‚æœæˆ‘å‘ç°æˆ‘çš„é€‰ä¸¾è½®æ•°è½åäº†ï¼Œæ¸…ç©ºç¥¨ç®±ï¼Œæ”¹ä¸ºæ¨èæ¥æ”¶åˆ°çš„æœ€æ–°é€‰ä¸¾ä¸­å¤§å®¶æ¨èçš„æœ€ç‰›çš„é‚£ä¸ªäººï¼ˆå¦‚æœæ²¡æœ‰äººæ¯”æˆ‘ç‰›ï¼Œé‚£è¿˜æ˜¯æ¨èæˆ‘è‡ªå·±ï¼‰&lt;/li&gt;
&lt;li&gt;ä¸æ–­çš„é‡å¤ä¸Šé¢çš„è¿‡ç¨‹ï¼Œä¸æ–­çš„å‘Šè¯‰åˆ«äººâ€œæˆ‘çš„æŠ•ç¥¨æ˜¯ç¬¬å‡ è½®â€ã€â€œæˆ‘æ¨ä¸¾çš„äººæ˜¯è°â€ã€‚ç›´åˆ°æˆ‘çš„ç¥¨ç®±ä¸­â€œæˆ‘æ¨ä¸¾çš„æœ€ç‰›çš„äººâ€æ”¶åˆ°äº†ä¸å°‘äº &lt;strong&gt;N / 2 + 1&lt;/strong&gt; çš„æ¨ä¸¾æŠ•ç¥¨ï¼Œæ­¤æ—¶è¿™ä¸ªäººå°±æ˜¯æˆ‘è®¤å®šçš„æœ€ç»ˆ leaderã€‚&lt;/li&gt;
&lt;li&gt;å½“æˆ‘ç¡®å®šäº†è°æ˜¯æœ€ç»ˆ leader å¹¶ä¸”è¿™ä¸ª leader ä¸€åˆ‡æ­£å¸¸ï¼Œæˆ‘å°±æ›´æ–°æˆ‘çš„çŠ¶æ€ä¸º FOLLOWING/LEADINGï¼ˆæˆ‘è‡ªå·±æ˜¯æœ€ç»ˆ  leader åˆ™æ˜¯ LEADING å¦åˆ™å°±æ˜¯ FOLLOWINGï¼‰ï¼Œä¹‹åçš„é€‰ä¸¾ä¸­éƒ½ç›´æ¥åé¦ˆæˆ‘ç¡®å®šçš„è¿™ä¸ªæœ€ç»ˆ leaderã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é‚£ä¹ˆï¼Œä»¥ä»€ä¹ˆæ ‡å‡†æ¥ç¡®å®šä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥æˆä¸ºä¸€ä¸ª leader å‘¢ï¼Ÿ
ä¾æ¬¡æ¯”è¾ƒ epoch, zxid, serverid ï¼š&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;æ¥æ”¶åˆ°çš„æ¶ˆæ¯ä¸­ï¼Œæœ‰ epoch æ¯”æˆ‘å¤§çš„ï¼Œåˆ™é€‰ epoch å¤§çš„æ¶ˆæ¯ä¸­ç¡®å®šçš„ server&lt;/li&gt;
&lt;li&gt;å¦‚æœ epoch ç›¸ç­‰ï¼Œåˆ™é€‰ zxid æœ€å¤§çš„ server&lt;/li&gt;
&lt;li&gt;å¦‚æœ zxid ä¹Ÿç›¸ç­‰ï¼Œåˆ™é€‰ serverid æœ€å¤§çš„ server (æœ‰çš„èŠ‚ç‚¹ç”Ÿæ¥å°±æ˜¯å½“ leader çš„ ğŸ˜‚ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;switch&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;state&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
&lt;span class="c1"&gt;//LOOKINGæ¶ˆæ¯ï¼Œåˆ™&lt;/span&gt;
&lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="n"&gt;LOOKING&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="o"&gt;......&lt;/span&gt;
    &lt;span class="c1"&gt;//æ£€æŸ¥ä¸‹æ”¶åˆ°çš„è¿™å¼ é€‰ç¥¨æ˜¯å¦å¯ä»¥èƒœå‡ºï¼Œä¾æ¬¡æ¯”è¾ƒé€‰ä¸¾è½®æ•°epochï¼Œäº‹åŠ¡zxidï¼ŒæœåŠ¡å™¨ç¼–å·server id&lt;/span&gt;
    &lt;span class="o"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;totalOrderPredicate&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;leader&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;zxid&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;peerEpoch&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;proposedLeader&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;proposedZxid&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;proposedEpoch&lt;/span&gt;&lt;span class="o"&gt;))&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
        &lt;span class="c1"&gt;//èƒœå‡ºäº†ï¼Œå°±æŠŠè‡ªå·±çš„æŠ•ç¥¨ä¿®æ”¹ä¸ºå¯¹æ–¹çš„ï¼Œç„¶åå¹¿æ’­æ¶ˆæ¯&lt;/span&gt;
        &lt;span class="n"&gt;updateProposal&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;leader&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;zxid&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;peerEpoch&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;sendNotifications&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;
    &lt;span class="o"&gt;}&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;

&lt;span class="kd"&gt;protected&lt;/span&gt; &lt;span class="kt"&gt;boolean&lt;/span&gt; &lt;span class="nf"&gt;totalOrderPredicate&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;long&lt;/span&gt; &lt;span class="n"&gt;newId&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;long&lt;/span&gt; &lt;span class="n"&gt;newZxid&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;long&lt;/span&gt; &lt;span class="n"&gt;newEpoch&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;long&lt;/span&gt; &lt;span class="n"&gt;curId&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;long&lt;/span&gt; &lt;span class="n"&gt;curZxid&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;long&lt;/span&gt; &lt;span class="n"&gt;curEpoch&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;
        &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;newEpoch&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;curEpoch&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt;
        &lt;span class="o"&gt;((&lt;/span&gt;&lt;span class="n"&gt;newEpoch&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;curEpoch&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;
        &lt;span class="o"&gt;((&lt;/span&gt;&lt;span class="n"&gt;newZxid&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;curZxid&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="o"&gt;((&lt;/span&gt;&lt;span class="n"&gt;newZxid&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;curZxid&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;
        &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;newId&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;curId&lt;/span&gt;&lt;span class="o"&gt;))))&lt;/span&gt;
    &lt;span class="o"&gt;);&lt;/span&gt;
    &lt;span class="o"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä»ç½‘ä¸Šæ‰¾äº†ä¸€ä¸ªæµç¨‹å›¾ï¼Œå¯ä»¥çœ‹çœ‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="flow.png" src="/static/images/zookeeper/elect-leader.png" /&gt;&lt;/p&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼Œç†æƒ³æƒ…å†µä¸‹ï¼Œå…ˆåå¯åŠ¨ä¸‰ä¸ªèŠ‚ç‚¹çš„é€‰ä¸¾è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;ç¬¬ä¸€è½®ï¼šæ¯ä¸ªèŠ‚ç‚¹å¹¿æ’­é€‰è‡ªå·±ï¼ˆæ­¤æ—¶åªæœ‰ node1)&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒè½®ï¼šnode2 å¯åŠ¨äº†ï¼Œå‘èµ·ä¸€è½®æŠ•ç¥¨ã€‚node1 æ”¶åˆ°äº† node2 é€‰å®ƒè‡ªå·±çš„æŠ•ç¥¨ï¼Œå‘ç° node2 æ¯”è‡ªå·±ç‰›ï¼Œå¹¿æ’­é€‰ node2ã€‚æ­¤æ—¶ node1 å‘ç° node2 è·å¾—äº†2ç¥¨ &amp;gt;= N / 2 + 1ï¼Œè®¤å®š node2 ä¸º leader è¿›å…¥ following çŠ¶æ€ã€‚
node2 æ”¶åˆ°äº† node1 é€‰è‡ªå·±çš„å¹¿æ’­ï¼Œæ­¤æ—¶ node2 å‘ç°è‡ªå·± è·å¾—äº†2ç¥¨ &amp;gt;= N / 2 + 1ï¼Œè¿›å…¥ leading çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸‰è½®ï¼šnode3 å¯åŠ¨äº†ï¼Œå‘èµ·ä¸€è½®æŠ•ç¥¨ã€‚node1 å’Œ node2 éƒ½é€‰ node2 , node3 é€šè¿‡æ¯”å¯¹å‘ç° node2 çš„ç¥¨æ•° &amp;gt;= N /2 + 1ï¼Œè®¤å®š node2 æ˜¯ leader è¿›å…¥ following çŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸Šé¢å°±æ˜¯ FastLeader ç®—æ³•é€‰ä¸¾çš„ç®€å•ä»‹ç»äº†ï¼Œæ›´è¯¦ç»†çš„ä¿¡æ¯å¯ä»¥æŸ¥é˜…å®˜æ–¹æ–‡æ¡£å’Œä»£ç ã€‚&lt;/p&gt;
&lt;div class="section" id="id1"&gt;
&lt;h2 id="hidid1"&gt;å‚è€ƒ&lt;a class="headerlink" href="#hidid1" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://codemacro.com/2014/10/19/zk-fastleaderelection/"&gt;å›¾è§£zookeeper FastLeaderé€‰ä¸¾ç®—æ³• - loop in codes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://blog.csdn.net/xhh198781/article/details/6619203"&gt;zookeeper3.3.3æºç åˆ†æ(äºŒ)FastLeaderé€‰ä¸¾ç®—æ³• - xhh198781çš„ä¸“æ  - åšå®¢é¢‘é“ - CSDN.NET&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://iwinit.iteye.com/blog/1773531"&gt;æ·±å…¥æµ…å‡ºZookeeperä¹‹äº” Leaderé€‰ä¸¾ - åŠä¸ç å†œ - ITeyeæŠ€æœ¯ç½‘ç«™&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.cnblogs.com/yuyijq/p/4116365.html"&gt;Zookeeper-Zookeeper leaderé€‰ä¸¾ - æ¨ªåˆ€å¤©ç¬‘ - åšå®¢å›­&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://blog.csdn.net/yinwenjie/article/details/47613309"&gt;hadoopç³»åˆ—ï¼šzookeeperï¼ˆ2ï¼‰â€”â€”zookeeperæ ¸å¿ƒåŸç†ï¼ˆé€‰ä¸¾ï¼‰ - JAVAå…¥é—¨ä¸­ - åšå®¢é¢‘é“ - CSDN.NET&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/apache/zookeeper/blob/branch-3.4/src/java/main/org/apache/zookeeper/server/quorum/FastLeaderElection.java"&gt;zookeeper/FastLeaderElection.java at branch-3.4 Â· apache/zookeeper&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://zookeeper.apache.org/doc/r3.4.10/zookeeperAdmin.html#sc_configuration"&gt;ZooKeeper Administrator's Guide&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</summary><category term="zookeeper"></category><category term="leaderé€‰ä¸¾"></category></entry><entry><title>pinyin-data: æ±‰å­—æ‹¼éŸ³æ•°æ®åº“</title><link href="https://mozillazg.com/2016/03/introduce-pinyin-data.html" rel="alternate"></link><updated>2016-03-07T00:00:00+00:00</updated><author><name>mozillazg</name></author><id>tag:mozillazg.com,2016-03-07:2016/03/introduce-pinyin-data.html</id><summary type="html">&lt;h2&gt;ç¼˜èµ·&lt;/h2&gt;
&lt;!-- å› ä¸ºæˆ‘ç»´æŠ¤äº†ä¸‰ä¸ªæ‹¼éŸ³ç›¸å…³çš„ä»“åº“ï¼ˆ
[python-pinyin][1]
[go-pinyin][2]
[rust-pinyin][3]
ï¼‰ï¼Œæ¯æ¬¡ä¿®æ”¹æ‹¼éŸ³æ•°æ®çš„æ—¶å€™éƒ½éœ€è¦æ‰‹åŠ¨ä¿®æ”¹ä¸åŒç¼–ç¨‹è¯­è¨€ç‰ˆæœ¬çš„
æ‹¼éŸ³åº“ï¼Œæ„Ÿè§‰è¿™æ ·ä¸æ˜¯å¾ˆæ–¹ä¾¿ã€‚

åŒæ—¶ä¹Ÿ  --&gt;

&lt;p&gt;å¸Œæœ›å»ºç«‹ä¸€ä¸ªè·Ÿç¼–ç¨‹è¯­è¨€æ— å…³çš„æ‹¼éŸ³æ•°æ®åº“ï¼Œ
æ–¹ä¾¿å¤§å®¶ä½¿ç”¨è¿™ä¸ªæ‹¼éŸ³æ•°æ®åº“å»å¼€å‘ä¸åŒç¼–ç¨‹è¯­è¨€çš„æ‹¼éŸ³æ¨¡å—ã€‚&lt;/p&gt;
&lt;h2&gt;é¡¹ç›®ä»‹ç»&lt;/h2&gt;
&lt;p&gt;é¡¹ç›®åœ°å€: &lt;a href="https://github.com/mozillazg/pinyin-data"&gt;https://github.com/mozillazg/pinyin-data&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸»è¦ç”¨çš„æ˜¯ &lt;a href="http://unicode.org/"&gt;Unicode.org&lt;/a&gt; æ——ä¸‹çš„ &lt;a href="http://www.unicode.org/charts/unihan.html"&gt;Unihan Database&lt;/a&gt; é¡¹ç›®é‡Œçš„æ‹¼éŸ³æ•°æ®ã€‚
é€šè¿‡ç¨‹åºè‡ªåŠ¨è§£æå’Œåˆå¹¶ &lt;a href="http://www.unicode.org/charts/unihan.html"&gt;Unihan Database&lt;/a&gt; ä¸­çš„æ‹¼éŸ³æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ•°æ®ä»‹ç»&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ•°æ®æ ¼å¼ï¼š&lt;code&gt;{code point}: {pinyins}  # {hanzi}&lt;/code&gt; ï¼ˆç¤ºä¾‹ï¼š&lt;code&gt;U+4E2D: zhÅng,zhÃ²ng  # ä¸­&lt;/code&gt;ï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;kHanyuPinyin.txt&lt;/code&gt;: &lt;a href="http://www.unicode.org/charts/unihan.html"&gt;Unihan Database&lt;/a&gt; ä¸­ &lt;a href="http://www.unicode.org/reports/tr38/#kHanyuPinyin"&gt;kHanyuPinyin&lt;/a&gt; éƒ¨åˆ†çš„æ‹¼éŸ³æ•°æ®ï¼ˆæ¥æºäºã€Šæ¼¢èªå¤§å­—å…¸ã€‹çš„æ‹¼éŸ³æ•°æ®ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;kHanyuPinlu.txt&lt;/code&gt;: &lt;a href="http://www.unicode.org/charts/unihan.html"&gt;Unihan Database&lt;/a&gt; ä¸­ &lt;a href="http://www.unicode.org/reports/tr38/#kHanyuPinlu"&gt;kHanyuPinlu&lt;/a&gt; éƒ¨åˆ†çš„æ‹¼éŸ³æ•°æ®ï¼ˆæ¥æºäºã€Šç¾ä»£æ¼¢èªé »ç‡è©å…¸ã€‹çš„æ‹¼éŸ³æ•°æ®ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;kXHC1983.txt&lt;/code&gt;: &lt;a href="http://www.unicode.org/charts/unihan.html"&gt;Unihan Database&lt;/a&gt; ä¸­ &lt;a href="http://www.unicode.org/reports/tr38/#kXHC1983"&gt;kXHC1983&lt;/a&gt; éƒ¨åˆ†çš„æ‹¼éŸ³æ•°æ®ï¼ˆæ¥æºäºã€Šç°ä»£æ±‰è¯­è¯å…¸ã€‹çš„æ‹¼éŸ³æ•°æ®ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;nonCJKUI.txt&lt;/code&gt;: ä¸å±äº &lt;a href="https://en.wikipedia.org/wiki/CJK_Unified_Ideographs"&gt;CJK Unified Ideograph&lt;/a&gt; ä½†æ˜¯å´æœ‰æ‹¼éŸ³çš„å­—ç¬¦&lt;/li&gt;
&lt;li&gt;&lt;code&gt;kMandarin.txt&lt;/code&gt;: &lt;a href="http://www.unicode.org/charts/unihan.html"&gt;Unihan Database&lt;/a&gt; ä¸­ &lt;a href="http://www.unicode.org/reports/tr38/#kMandarin"&gt;kMandarin&lt;/a&gt; éƒ¨åˆ†çš„æ‹¼éŸ³æ•°æ®ï¼ˆæ™®é€šè¯ä¸­æœ€å¸¸ç”¨çš„ä¸€ä¸ªè¯»éŸ³ã€‚zh-CN ä¸ºä¸»ï¼Œå¦‚æœ zh-CN ä¸­æ²¡æœ‰åˆ™ä½¿ç”¨ zh-TW ä¸­çš„æ‹¼éŸ³ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;overwrite.txt&lt;/code&gt;: æ‰‹å·¥æ ¡éªŒçš„æ‹¼éŸ³æ•°æ®ï¼ˆä¸Šé¢çš„æ‹¼éŸ³æ•°æ®éƒ½æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œä¿®æ”¹çš„è¯åªä¿®æ”¹è¿™ä¸ªå°±å¯ä»¥äº†ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pinyin.txt&lt;/code&gt;: åˆå¹¶ä¸Šè¿°æ–‡ä»¶åçš„æ‹¼éŸ³æ•°æ®&lt;/li&gt;
&lt;li&gt;&lt;code&gt;zdic.txt&lt;/code&gt;: &lt;a href="http://zdic.net"&gt;æ±‰å…¸ç½‘&lt;/a&gt; çš„æ‹¼éŸ³æ•°æ®&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;åç»­è®¡åˆ’&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å°† &lt;a href="https://github.com/mozillazg/python-pinyin"&gt;python-pinyin&lt;/a&gt;, &lt;a href="https://github.com/mozillazg/go-pinyin"&gt;go-pinyin&lt;/a&gt;, &lt;a href="https://github.com/mozillazg/rust-pinyin"&gt;rust-pinyin&lt;/a&gt; é‡Œçš„æ‹¼éŸ³æ•°æ®æ”¹ä¸ºåŸºäº &lt;a href="https://github.com/mozillazg/pinyin-data"&gt;pinyin-data&lt;/a&gt; è‡ªåŠ¨ç”Ÿæˆç›¸å…³ä»£ç ã€‚
  ç„¶åç»Ÿä¸€åœ¨ &lt;a href="https://github.com/mozillazg/rust-pinyin"&gt;pinyin-data&lt;/a&gt; è¿™ä¸ªé¡¹ç›®ä¸­ç»´æŠ¤æ‹¼éŸ³æ•°æ®ï¼ˆåœ¨ README æˆ– CONTRIBUTING.md ä¸­å¢åŠ æç¤ºï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å‘ &lt;a href="https://github.com/hotoo/pinyin"&gt;hotoo/pinyin&lt;/a&gt; æä¸€ä¸‹è¿™ä¸ªä»“åº“ï¼Œçœ‹ä»–æ˜¯å¦æœ‰æ„ä½¿ç”¨è¿™ä¸ªä»“åº“çš„æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;</summary><category term="pinyin"></category></entry><entry><title>multipart form data çš„æ•°æ®æ ¼å¼</title><link href="https://mozillazg.com/2016/02/http-multipart-form-data.html" rel="alternate"></link><updated>2016-02-19T00:00:00+00:00</updated><author><name>mozillazg</name></author><id>tag:mozillazg.com,2016-02-19:2016/02/http-multipart-form-data.html</id><summary type="html">&lt;p&gt;å‡è®¾ form å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;form&lt;/span&gt; &lt;span class="na"&gt;action=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;/upload&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;enctype=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;multipart/form-data&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;method=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;post&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    Username: &lt;span class="nt"&gt;&amp;lt;input&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;username&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    Password: &lt;span class="nt"&gt;&amp;lt;input&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;password&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;password&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    File: &lt;span class="nt"&gt;&amp;lt;input&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;file&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;file&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;input&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;submit&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;header&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;Content-Type&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;multipart&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;form-data&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;boundary&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;boundary&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="nt"&gt;r&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="nt"&gt;n&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;body&lt;/h2&gt;
&lt;h3&gt;æ™®é€š input æ•°æ®&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;--&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;boundary&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="nt"&gt;r&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="nt"&gt;n&lt;/span&gt;
&lt;span class="nt"&gt;Content-Disposition&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;form-data&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;username&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="nt"&gt;r&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="nt"&gt;n&lt;/span&gt;
&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="nt"&gt;r&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="nt"&gt;n&lt;/span&gt;
&lt;span class="nt"&gt;Tom&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="nt"&gt;r&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="nt"&gt;n&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;æ–‡ä»¶ä¸Šä¼  input æ•°æ®&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;--&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;boundary&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="nt"&gt;r&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="nt"&gt;n&lt;/span&gt;
&lt;span class="nt"&gt;Content-Disposition&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;form-data&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;file&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt; &lt;span class="nt"&gt;filename&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;myfile.txt&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="nt"&gt;r&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="nt"&gt;n&lt;/span&gt;
&lt;span class="nt"&gt;Content-Type&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;text&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;plain&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="nt"&gt;r&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="nt"&gt;n&lt;/span&gt;
&lt;span class="nt"&gt;Content-Transfer-Encoding&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nt"&gt;binary&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="nt"&gt;r&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="nt"&gt;n&lt;/span&gt;
&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="nt"&gt;r&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="nt"&gt;n&lt;/span&gt;
&lt;span class="nt"&gt;hello&lt;/span&gt; &lt;span class="nt"&gt;word&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="nt"&gt;r&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;&lt;span class="nt"&gt;n&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;ç»“æŸæ ‡å¿—&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;--{boundary}--\r\n
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æ•°æ®ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nf"&gt;POST&lt;/span&gt; &lt;span class="nn"&gt;/upload&lt;/span&gt; &lt;span class="kr"&gt;HTTP&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="m"&gt;1.1&lt;/span&gt;
&lt;span class="na"&gt;Host&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="l"&gt;172.16.100.128:5000&lt;/span&gt;
&lt;span class="na"&gt;Content-Length&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="l"&gt;394 &lt;/span&gt;
&lt;span class="na"&gt;Content-Type&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="l"&gt;multipart/form-data; boundary=----WebKitFormBoundaryLumpDpF3AwbRwRBn&lt;/span&gt;
&lt;span class="na"&gt;Referer&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="l"&gt;http://172.16.100.128:5000/&lt;/span&gt;

------WebKitFormBoundaryUNZIuug9PIVmZWuw
Content-Disposition: form-data; name=&amp;quot;username&amp;quot;

Tom
------WebKitFormBoundaryUNZIuug9PIVmZWuw
Content-Disposition: form-data; name=&amp;quot;password&amp;quot;

passwd
------WebKitFormBoundaryUNZIuug9PIVmZWuw
Content-Disposition: form-data; name=&amp;quot;file&amp;quot;; filename=&amp;quot;myfile.txt&amp;quot;
Content-Type: text/plain

hello world
------WebKitFormBoundaryUNZIuug9PIVmZWuw--
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://tools.ietf.org/html/rfc2388"&gt;https://tools.ietf.org/html/rfc2388&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.w3.org/TR/html401/interact/forms.html#h-17.13.4.2"&gt;https://www.w3.org/TR/html401/interact/forms.html#h-17.13.4.2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://d.hatena.ne.jp/satox/20110726/1311665904"&gt;http://d.hatena.ne.jp/satox/20110726/1311665904&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://mugenup-tech.hatenadiary.com/entry/2014/08/28/100910"&gt;http://mugenup-tech.hatenadiary.com/entry/2014/08/28/100910&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary><category term="http"></category></entry><entry><title>è§£å†³ gitlab é…ç½®ä¸æ­£ç¡®å¯¼è‡´ ci ä¸­ git clone æ—¶å‡ºç° â€œYou appear to have cloned an empty repositoryâ€ çš„é—®é¢˜</title><link href="https://mozillazg.com/2015/11/gitlab-ci-fix-reference-is-not-a-tree-you-appear-to-have-cloned-an-empty.html" rel="alternate"></link><updated>2015-11-02T00:00:00+00:00</updated><author><name>mozillazg</name></author><id>tag:mozillazg.com,2015-11-02:2015/11/gitlab-ci-fix-reference-is-not-a-tree-you-appear-to-have-cloned-an-empty.html</id><summary type="html">&lt;p&gt;æœ€è¿‘åœ¨ä½¿ç”¨ gitlab çš„ ci æœåŠ¡æ—¶å‡ºç°äº†å¦‚ä¸‹é—®é¢˜ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;gitlab-ci-multi-runner ...
...

Cloning repository... 
Cloning into &amp;#39;/builds/...&amp;#39;... 
warning: You appear to have cloned an empty repository. 
Checking out 2c80f515 as develop... 
fatal: reference is not a tree: 1b53f5157b357f4c006ceccf0e36035bad340185
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ç»è¿‡å¤šç¿»æœç´¢éªŒè¯åå‘ç°æ˜¯ gitlab-git-http-server çš„é…ç½®é—®é¢˜ï¼š
è¿™ä¸ª gitlab æœåŠ¡æ²¡æœ‰ä½¿ç”¨å†…ç½®çš„ nginx æ¥åå‘ä»£ç† gitlab æœåŠ¡è€Œæ˜¯ä½¿ç”¨çš„ yum å®‰è£…çš„ nginxã€‚
ç”±äºé…ç½®æœ‰é—®é¢˜å¯¼è‡´ ci ä»»åŠ¡ä¸€ç›´å¤±è´¥ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³åŠæ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ä¿®æ”¹ &lt;code&gt;/etc/gitlab/gitlab.rb&lt;/code&gt;, æ‰¾åˆ°å¦‚ä¸‹é…ç½®å¹¶ä¿®æ”¹ä¸ºï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nginx[&amp;#39;enabled&amp;#39;] = false
gitlab_git_http_server[&amp;#39;listen_network&amp;#39;] = &amp;quot;tcp&amp;quot;
# è¿™ä¸ªç«¯å£ä¿®æ”¹ä¸ºä½ å®é™…éœ€è¦çš„ç«¯å£
gitlab_git_http_server[&amp;#39;listen_addr&amp;#39;] = &amp;quot;localhost:8081&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åº”ç”¨æ›´æ”¹ &lt;code&gt;sudo gitlab-ctl reconfigure&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸‹è½½å®˜æ–¹ nginx é…ç½®ï¼ˆé€‰æ‹©ç›¸åº”ç‰ˆæœ¬åˆ†æ”¯ä¸‹çš„æ–‡ä»¶ï¼‰:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wget https://gitlab.com/gitlab-org/gitlab-ce/raw/v8.1.2/lib/support/nginx/gitlab -O /etc/nginx/conf.d/gitlab.conf
# å¦‚æœä½ çš„ ci æœåŠ¡å™¨ä½¿ç”¨çš„æ˜¯ç‹¬ç«‹çš„åŸŸåæˆ–è€…ä½¿ç”¨äº† ssl çš„è¯ï¼Œå¯ä»¥å»
# https://gitlab.com/gitlab-org/gitlab-ce/tree/master/lib/support/nginx
# ä¸‹è½½ç›¸åº”çš„é…ç½®æ–‡ä»¶
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¿®æ”¹ nginx é…ç½®æ–‡ä»¶ä¸­çš„ &lt;code&gt;upstream&lt;/code&gt;ï¼Œ &lt;code&gt;server_name&lt;/code&gt;, &lt;code&gt;root&lt;/code&gt;ï¼Œæç¤ºï¼š
   å¦‚æœä¸å­˜åœ¨ &lt;code&gt;/home/git/gitlab/public&lt;/code&gt; ç›®å½•çš„è¯ï¼Œé‚£ä¹ˆ &lt;code&gt;root&lt;/code&gt; å°±æ˜¯
   &lt;code&gt;/opt/gitlab/embedded/service/gitlab-rails/public&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;reload nginx: &lt;code&gt;nginx -t &amp;amp;&amp;amp; nginx -s reload&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://gitlab.com/gitlab-org/gitlab-ce/issues/2727"&gt;https://gitlab.com/gitlab-org/gitlab-ce/issues/2727&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/doc/settings/nginx.md#gitlab"&gt;https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/doc/settings/nginx.md#gitlab&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://gitlab.com/gitlab-org/gitlab-ce/tree/master/lib/support/nginx"&gt;https://gitlab.com/gitlab-org/gitlab-ce/tree/master/lib/support/nginx&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary><category term="gitlab"></category><category term="gitlab-git-http-server"></category></entry><entry><title>ä¿®å¤ gitlab ä¸­ fork å¤±è´¥ï¼Œæç¤º "visibility level private visibility has been restricted"</title><link href="https://mozillazg.com/2015/10/gitlab-fix-fork-error-because-visibility-level-private-visibility-has-been-restricted-by-your-gitlab-administrator.html" rel="alternate"></link><updated>2015-10-20T00:00:00+00:00</updated><author><name>mozillazg</name></author><id>tag:mozillazg.com,2015-10-20:2015/10/gitlab-fix-fork-error-because-visibility-level-private-visibility-has-been-restricted-by-your-gitlab-administrator.html</id><summary type="html">&lt;p&gt;ç‰ˆæœ¬ï¼šGitlab 8.0.4, é”™è¯¯æˆªå›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="gitlab-fork-error-1.png" src="/static/images/2015/gitlab-fork-error-1.png" /&gt;&lt;/p&gt;
&lt;p&gt;å‡ºç°è¿™ä¸ªé”™è¯¯æ˜¯å› ä¸ºç®¡ç†å‘˜æ²¡æœ‰é…ç½® private ä»“åº“å…è®¸ è¢« forkã€‚è§£å†³åŠæ³•å¦‚ä¸‹ï¼ˆç®¡ç†å‘˜èº«ä»½æ“ä½œï¼‰ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;è¿›å…¥ã€admin areaã€‘                 &lt;br /&gt;
&lt;img alt="" src="/static/images/2015/gitlab-fork-error-2.png" /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ã€settingsã€‘             &lt;br /&gt;
&lt;img alt="" src="/static/images/2015/gitlab-fork-error-3.png" /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¿®æ”¹ã€Restricted visibility levelsã€‘ï¼Œ&lt;strong&gt;å–æ¶ˆ&lt;/strong&gt; Private çš„é€‰ä¸­çŠ¶æ€          &lt;br /&gt;
&lt;img alt="" src="/static/images/2015/gitlab-fork-error-4.png" /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</summary><category term="gitlab"></category></entry><entry><title>å¾®ä¿¡å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜</title><link href="https://mozillazg.com/2015/06/wechat-develop-note.html" rel="alternate"></link><updated>2015-06-08T00:00:00+00:00</updated><author><name>mozillazg</name></author><id>tag:mozillazg.com,2015-06-08:2015/06/wechat-develop-note.html</id><summary type="html">&lt;div class="section" id="jssdk"&gt;
&lt;h2 id="hidjssdk"&gt;JSSDK&lt;a class="headerlink" href="#hidjssdk" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;invalid signature&lt;/strong&gt;, æ’æŸ¥:&lt;/p&gt;
&lt;p&gt;å‰ç«¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;&lt;tt class="docutils literal"&gt;url&lt;/tt&gt; å‚æ•°åŠ¨æ€è·å–&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;æ³¨æ„å‚æ•°å¤§å°å†™:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
appId: '',         //  I å¤§å†™
timestamp: 134xxx, // å…¨å°å†™, å¿…é¡»ä¸åç«¯ç­¾åæ—¶ timestamp çš„å€¼ä¸€è‡´
nonceStr: '',      //  ** å°¤å…¶æ³¨æ„ S æ˜¯å¤§å†™ **, å¿…é¡»ä¸åç«¯ç­¾åæ—¶ noncestr çš„å€¼ä¸€è‡´
&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åç«¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;ç¡®ä¿ jsapi_ticket æœªè¿‡æœŸ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;ç¡®è®¤å‚ä¸ç­¾åçš„å‚æ•°ï¼Œæ³¨æ„å¤§å°å†™:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
noncestr        // å…¨å°å†™ï¼Œ** å°¤å…¶æ³¨æ„ s æ˜¯å°å†™ **
jsapi_ticket    // å…¨å°å†™
timestamp       // å…¨å°å†™
url             // å°å†™ï¼Œå¿…é¡»æ˜¯å‰ç«¯åŠ¨æ€è·å–
&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;ç­¾åç®—æ³•
* æ˜¯å¦æŒ‰å­—æ®µåçš„ASCII ç ä»å°åˆ°å¤§æ’åº
* ä½¿ç”¨ sha1 ç­¾å&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¾®ä¿¡æ”¯ä»˜ &lt;strong&gt;å•†æˆ·ç­¾åé”™è¯¯&lt;/strong&gt;, æ’æŸ¥:&lt;/p&gt;
&lt;p&gt;å‰ç«¯:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;æ£€æŸ¥å‚æ•°å¤§å°å†™:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
timestamp: 0,                     // ** å°å†™ **
nonceStr: '',                     // S å¤§å†™
package: 'prepay_id=wx2015xxxx',  // å†…å®¹æ˜¯å¦å¯¹äº†ï¼Ÿ
paySign: 'MD5',                   // æ–°ç‰ˆæ˜¯ MD5
&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åç«¯:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;æ£€æŸ¥å‚ä¸ç­¾åçš„å‚æ•°å¤§å°å†™:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
appId            // I å¤§å†™
timeStamp        // ** S å¤§å†™ **
nonceStr         // S å¤§å†™
package          // prepay_id=wx2015xxxx
signType         // æ–°ç‰ˆæ˜¯ MD5
&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;&lt;a class="reference external" href="http://pay.weixin.qq.com/wiki/doc/api/index.php?chapter=4_3"&gt;ç­¾åç®—æ³•&lt;/a&gt; æ˜¯å¦æ­£ç¡®&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="id2"&gt;
&lt;h2 id="hidid2"&gt;å¾®ä¿¡æ”¯ä»˜&lt;a class="headerlink" href="#hidid2" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨ &lt;tt class="docutils literal"&gt;requests&lt;/tt&gt; æ¨¡å—å‘é€è¯·æ±‚æ—¶ï¼Œå¦‚ä½•ä½¿ç”¨å•†æˆ·è¯ä¹¦?&lt;/p&gt;
&lt;pre class="literal-block"&gt;
cert = ('/path/to/apiclient_cert.pem', '/path/to/apiclient_key.pem')
requests.post(url, data=data, cert=cert)
&lt;/pre&gt;
&lt;p&gt;ä½¿ç”¨è¯ä¹¦å‘é€è¯·æ±‚æ—¶ï¼Œå‡ºç° &lt;tt class="docutils literal"&gt;UnicodeEncodeError&lt;/tt&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;
File &amp;quot;/xxx/lib/python2.7/ssl.py&amp;quot;, line 198, in send
v = self._sslobj.write(data)
UnicodeEncodeError: 'ascii' codec can't encode characters in position 363-364: ordinal not in range(128)
&lt;/pre&gt;
&lt;p&gt;ssl data ä¸æ”¯æŒ unicode, data å‚æ•°ä¸è¦ä¼  &lt;tt class="docutils literal"&gt;unicode&lt;/tt&gt;, æ”¹ä¸º &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;utf-8&lt;/span&gt;&lt;/tt&gt; ç¼–ç å­—ç¬¦ä¸²:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
xml = u'&amp;lt;xml&amp;gt;å·´æ‹‰å·´æ‹‰å·´æ‹‰&amp;lt;xml&amp;gt;'
requests.post(url, data=xml, cert=cert)   # UnicodeEncodeError
æ”¹ä¸º
requests.post(url, data=xml.encode('utf8'), cert=cert)
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="id3"&gt;
&lt;h2 id="hidid3"&gt;ä¼ä¸šä»˜æ¬¾&lt;a class="headerlink" href="#hidid3" title="Permalink to this headline"&gt;Â¶&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;å‚æ•°é”™è¯¯:è¾“å…¥çš„å•†æˆ·å·æœ‰è¯¯&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;æ£€æŸ¥æäº¤çš„å‚æ•°åç§°æ˜¯å¦æœ‰è¯¯:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
mch_appid         # ** åœ¨å…¶ä»–æ”¯ä»˜ api ä¸­å‚æ•°çš„åç§°æ˜¯ appid **
mchid             # ** åœ¨å…¶ä»–æ”¯ä»˜ api ä¸­å‚æ•°çš„åç§°æ˜¯ mch_id **
&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</summary><category term="å¾®ä¿¡"></category></entry><entry><title>è§£å†³é€šè¿‡ ifttt æŠŠ Feed ä¸­çš„å›¾ç‰‡è½¬å‘åˆ° twritter æ—¶ï¼Œæ€»æ˜¯å‡ºç° "image not found" çš„é—®é¢˜</title><link href="https://mozillazg.com/2015/05/fix-ifttt-feed-image-not-found.html" rel="alternate"></link><updated>2015-08-27T00:00:00+00:00</updated><author><name>mozillazg</name></author><id>tag:mozillazg.com,2015-05-01:2015/05/fix-ifttt-feed-image-not-found.html</id><summary type="html">&lt;p&gt;ä¹‹å‰ä½¿ç”¨ ifttt æŠŠ Feed ä¸­çš„å›¾ç‰‡è½¬å‘åˆ° twritter æ—¶ï¼Œæ€»æ˜¯å‡ºç° "image not found"ã€‚ç„¶åå°±ä¸å†ä½¿ç”¨ ifttt è½¬å‘å›¾ç‰‡äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="image not found" src="/static/images/ifttt-image-not-found.png" /&gt;&lt;/p&gt;
&lt;p&gt;è¶ç€ä»Šå¤©ç»™ &lt;a href="http://comic.mozillazg.com"&gt;comic.mozillazg.com&lt;/a&gt; å¢åŠ  Atom Feed çš„åŠŸèƒ½çš„æ—¶å€™ï¼Œç ”ç©¶äº†ä¸€ä¸‹ ifttt è·å–å›¾ç‰‡çš„è§„åˆ™ã€‚é€šè¿‡æœç´¢åå¾—çŸ¥ï¼Œifttt åªä¼šä»æ–‡ç« å†…å®¹çš„å¼€å¤´ä½ç½®è·å–å›¾ç‰‡åœ°å€ï¼Œå¦‚æœè·å–ä¸åˆ°çš„è¯ï¼Œå°± "image not found":&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;&amp;lt;!-- bad: &amp;quot;image not found&amp;quot;  --&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;content&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;html&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;p&amp;gt;&lt;/span&gt;è¯‘è‡ªï¼šhttp://explosm.net/comics/3908/&lt;span class="nt"&gt;&amp;lt;br&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt; AT 2015-05-01 &lt;span class="nt"&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;img&lt;/span&gt; &lt;span class="na"&gt;src=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;http://tmp-images.qiniudn.com/comics/3908.you-should.zh-cn.png&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;alt=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Cyanide &amp;amp; Happiness #3908ï¼šä½ åº”è¯¥&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/content&amp;gt;&lt;/span&gt;

&lt;span class="c"&gt;&amp;lt;!-- good --&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;content&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;html&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;img&lt;/span&gt; &lt;span class="na"&gt;src=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;http://tmp-images.qiniudn.com/comics/3908.you-should.zh-cn.png&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;alt=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Cyanide &amp;amp; Happiness #3908ï¼šä½ åº”è¯¥&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;p&amp;gt;&lt;/span&gt;è¯‘è‡ªï¼šhttp://explosm.net/comics/3908/&lt;span class="nt"&gt;&amp;lt;br&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt; AT 2015-05-01 &lt;span class="nt"&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/content&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;å‚è€ƒ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://twitter.com/ifttt/status/372166382172925952"&gt;https://twitter.com/ifttt/status/372166382172925952&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="Excerpthttps://winwar.co.uk/2015/02/include-wordpress-posts-featured-image-rss-feed-excerpt/"&gt;How To Include Your WordPress Postâ€™s Featured Image in a RSS Feed Excerpt&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>ä¿®å¤æ— æ³•å¯åŠ¨ Oracle SQL Developerï¼Œæç¤ºï¼šcould not install some modules</title><link href="https://mozillazg.com/2014/11/fix-could-not-install-some-modules-when-start-Oracle-SQL-Developer.html" rel="alternate"></link><updated>2014-11-02T00:00:00+00:00</updated><author><name>mozillazg</name></author><id>tag:mozillazg.com,2014-11-02:2014/11/fix-could-not-install-some-modules-when-start-Oracle-SQL-Developer.html</id><summary type="html">&lt;p&gt;ä»Šå¤©å¯åŠ¨ Oracle SQL Developeræ—¶ï¼Œæç¤ºå¦‚ä¸‹é”™è¯¯ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Warning - could not install some modules:
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å¯¼è‡´ä¸èƒ½æˆåŠŸå¯åŠ¨ Oracle SQL Developerã€‚&lt;/p&gt;
&lt;p&gt;æœ€åçš„è§£å†³åŠæ³•æ˜¯ï¼ˆ &lt;strong&gt;æ³¨æ„ï¼Œè¿™ä¸ªåŠæ³•ä¼šå¯¼è‡´ä¸¢å¤±æ‰€æœ‰ä¹‹å‰å®šä¹‰çš„æ•°æ®åº“è¿æ¥é…ç½®&lt;/strong&gt; ï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åˆ é™¤ c:\Users\yourusername\AppData\Roaming\SQL Developer\ ç›®å½•ä¸‹çš„ system4.0.0.12.84 æ–‡ä»¶å¤¹&lt;/strong&gt; ã€‚&lt;/p&gt;
&lt;h2&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://community.oracle.com/thread/2560920?start=0&amp;amp;tstart=0"&gt;Sql Developer 4.0 EA Winsdows 7 Could not insta... | Oracle Community&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary></entry><entry><title>ä¿®å¤å¯åŠ¨ sqldeveloper æ—¶å‡ºç°â€œUnable to create an instance of the Java Virtual Machine Located at pathâ€é”™è¯¯</title><link href="https://mozillazg.com/2014/07/fix-Unable-to-create-an-instance-of-the-Java-Virtual-Machine-Located-at-path-error-for-oracle-sqldeveloper.html" rel="alternate"></link><updated>2014-07-17T00:00:00+00:00</updated><author><name>mozillazg</name></author><id>tag:mozillazg.com,2014-07-17:2014/07/fix-Unable-to-create-an-instance-of-the-Java-Virtual-Machine-Located-at-path-error-for-oracle-sqldeveloper.html</id><summary type="html">&lt;p&gt;åˆšæ‰æ‰“å¼€ sqldeveloper æ—¶æç¤ºå¦‚ä¸‹é”™è¯¯ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Unable to create an instance of the Java Virtual Machine
Located at path:
x:\xxxx\jre\bin\client\jvm.dll
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æœ€åçš„è§£å†³åŠæ³•æ˜¯ï¼šç¼–è¾‘ &lt;code&gt;sqldeveloper.exe&lt;/code&gt; æ‰€åœ¨ç›®å½•ä¸‹çš„ &lt;code&gt;ide\bin\ide.conf&lt;/code&gt; æ–‡ä»¶ï¼Œ
å°† 38 è¡Œå·¦å³çš„ &lt;code&gt;AddVMOption  -Xmx800M&lt;/code&gt; æ”¹ä¸º &lt;code&gt;AddVMOption -Xmx512M&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# AddVMOption  -Xmx800M
AddVMOption -Xmx512M
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://pisceansheart.wordpress.com/2009/08/06/solution-to-unable-to-create-an-instance-of-the-java-virtual-machine-for-jdeveloper/"&gt;Solution to â€˜Unable to Create an Instance of the Java Virtual Machineâ€™ for JDeveloper | In Piscean's Heart &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary><category term="sqldeveloper"></category></entry><entry><title>ç»™ç»ˆç«¯æ–‡å­—åŠ ç‚¹é¢œè‰²å’Œç‰¹æ•ˆ</title><link href="https://mozillazg.com/2013/08/ansi-escape-sequences.html" rel="alternate"></link><updated>2013-08-25T00:00:00+00:00</updated><author><name>mozillazg</name></author><id>tag:mozillazg.com,2013-08-25:2013/08/ansi-escape-sequences.html</id><summary type="html">&lt;p&gt;è¿™ä¸ªå«åšï¼šANSI Escape Sequences/Code ã€‚&lt;/p&gt;
&lt;p&gt;æ–‡å­—ç‰¹æ•ˆç›¸å…³çš„å­—ç¬¦æ ¼å¼æ˜¯ï¼š&lt;code&gt;ESC[#;#;....;#m&lt;/code&gt; ï¼Œå…¶ä¸­ # çš„å–å€¼è§ä¸‹è¡¨ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;# çš„å€¼&lt;/th&gt;
&lt;th&gt;åŠŸèƒ½&lt;/th&gt;
&lt;th&gt;python ä»£ç &lt;/th&gt;
&lt;th&gt;æˆªå›¾&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;00 æˆ– 0&lt;/td&gt;
&lt;td&gt;æ­£å¸¸æ˜¾ç¤º&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[00m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;01 æˆ– 1&lt;/td&gt;
&lt;td&gt;ç²—ä½“&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[01m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;02 æˆ– 2&lt;/td&gt;
&lt;td&gt;æ¨¡ç³Š&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[02m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;03 æˆ– 3&lt;/td&gt;
&lt;td&gt;æ–œä½“&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[03m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;04 æˆ– 4&lt;/td&gt;
&lt;td&gt;ä¸‹åˆ’çº¿&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[04m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="" src="/static/images/04.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;05 æˆ– 5&lt;/td&gt;
&lt;td&gt;é—ªçƒï¼ˆæ…¢ï¼‰&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[05m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;06 æˆ– 6&lt;/td&gt;
&lt;td&gt;é—ªçƒï¼ˆå¿«ï¼‰&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[06m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;07 æˆ– 7&lt;/td&gt;
&lt;td&gt;åè½¬æ˜¾ç¤ºï¼ˆå‰æ™¯è‰²ä¸èƒŒæ™¯è‰²è°ƒè¿‡æ¥ï¼‰&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[07m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="" src="/static/images/07.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;08 æˆ– 8&lt;/td&gt;
&lt;td&gt;éšè—&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[08m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="" src="/static/images/08.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;22&lt;/td&gt;
&lt;td&gt;æ­£å¸¸&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[22m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;23&lt;/td&gt;
&lt;td&gt;ä¸æ–œä½“&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[23m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;24&lt;/td&gt;
&lt;td&gt;æ— ä¸‹åˆ’çº¿&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[24m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;25&lt;/td&gt;
&lt;td&gt;ä¸é—ªçƒ&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[25m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;27&lt;/td&gt;
&lt;td&gt;ä¸åè½¬&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[26m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;28&lt;/td&gt;
&lt;td&gt;ä¸éšè—&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[27m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å‰æ™¯è‰²&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;30&lt;/td&gt;
&lt;td&gt;é»‘è‰²&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[30m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="" src="/static/images/30.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;31&lt;/td&gt;
&lt;td&gt;çº¢è‰²&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[31m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="" src="/static/images/31.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;32&lt;/td&gt;
&lt;td&gt;ç»¿è‰²&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[32m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="" src="/static/images/32.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;33&lt;/td&gt;
&lt;td&gt;é»„è‰²&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[33m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="" src="/static/images/33.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;34&lt;/td&gt;
&lt;td&gt;è“è‰²&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[34m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="" src="/static/images/34.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;35&lt;/td&gt;
&lt;td&gt;å“çº¢/ç´«çº¢&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[35m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="" src="/static/images/35.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;36&lt;/td&gt;
&lt;td&gt;é’è‰²/è“ç»¿&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[36m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="" src="/static/images/36.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;37&lt;/td&gt;
&lt;td&gt;ç™½è‰²&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[37m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="" src="/static/images/37.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;38&lt;/td&gt;
&lt;td&gt;xterm-256 è‰²&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[38;5;7m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="" src="/static/images/38.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;39&lt;/td&gt;
&lt;td&gt;é»˜è®¤è‰²&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[39m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;èƒŒæ™¯è‰²&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;40&lt;/td&gt;
&lt;td&gt;é»‘è‰²&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[40m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="" src="/static/images/38.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;41&lt;/td&gt;
&lt;td&gt;çº¢è‰²&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[41m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="" src="/static/images/41.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;42&lt;/td&gt;
&lt;td&gt;ç»¿è‰²&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[42m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="" src="/static/images/42.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;43&lt;/td&gt;
&lt;td&gt;é»„è‰²&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[43m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="" src="/static/images/43.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;44&lt;/td&gt;
&lt;td&gt;è“è‰²&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[44m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="" src="/static/images/44.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;45&lt;/td&gt;
&lt;td&gt;å“çº¢/ç´«çº¢&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[45m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="" src="/static/images/45.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;46&lt;/td&gt;
&lt;td&gt;é’è‰²/è“ç»¿&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[46m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="" src="/static/images/46.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;47&lt;/td&gt;
&lt;td&gt;ç™½è‰²&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[47m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="" src="/static/images/47.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;48&lt;/td&gt;
&lt;td&gt;xterm-256 è‰²&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[48;5;7m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;img alt="" src="/static/images/48.png" /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;49&lt;/td&gt;
&lt;td&gt;é»˜è®¤è‰²&lt;/td&gt;
&lt;td&gt;&lt;code&gt;'\033[49m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;!--
https://github.com/robertknight/konsole/blob/master/tests/color-spaces.pl
Quoting &lt;https://github.com/robertknight/konsole/blob/master/user-doc/README.moreColors&gt;:
   ESC[ â€¦ 38;2;&lt;r&gt;;&lt;g&gt;;&lt;b&gt; â€¦ m Select RGB foreground color
   ESC[ â€¦ 48;2;&lt;r&gt;;&lt;g&gt;;&lt;b&gt; â€¦ m Select RGB background color

## ç¤ºä¾‹

print('\033[31m \033[44m' + 'some red text' + '\033[0;39m' + 'ab')
--&gt;

&lt;p&gt;åŒæ—¶æŒ‡å®šèƒŒæ™¯åŠå‰æ™¯è‰²ï¼š &lt;code&gt;'\033[47;31m' + 'hello' + '\033[0;39m'&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="/static/images/47-31.png" /&gt;&lt;/p&gt;
&lt;h2&gt;å‚è€ƒ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.isthe.com/chongo/tech/comp/ansi_escapes.html"&gt;ANSI Escape Sequences&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://en.wikipedia.org/wiki/ANSI_escape_code"&gt;ANSI escape code - Wikipedia, the free encyclopedia&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.pixelbeat.org/docs/terminal_colours/"&gt;Terminal colour highlights&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://en.wikipedia.org/wiki/Xterm"&gt;xterm - Wikipedia, the free encyclopedia&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary><category term="ansi"></category><category term="color"></category><category term="terminal"></category></entry><entry><title>Cygwin ä¸­çš„è½¯ä»¶åŒ…ç®¡ç†å·¥å…·ï¼š apt-cyg</title><link href="https://mozillazg.com/2013/06/cygwin-install-packages-by-apt-cyg.html" rel="alternate"></link><updated>2013-06-23T00:00:00+00:00</updated><author><name>mozillazg</name></author><id>tag:mozillazg.com,2013-06-23:2013/06/cygwin-install-packages-by-apt-cyg.html</id><summary type="html">&lt;p&gt;apt-cyg å¯ä»¥åœ¨ Cygwin ä¸­å®ç°ç±»ä¼¼ linux ä¸‹çš„ &lt;code&gt;yum&lt;/code&gt; æˆ– &lt;code&gt;apt-get&lt;/code&gt; çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;h2&gt;ä¸»é¡µ&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://code.google.com/p/apt-cyg/"&gt;http://code.google.com/p/apt-cyg/&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;å®‰è£…&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ svn --force &lt;span class="nb"&gt;export&lt;/span&gt; http://apt-cyg.googlecode.com/svn/trunk/ /bin/
$ chmod +x /bin/apt-cyg
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;ä½¿ç”¨&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;apt-cyg install &amp;lt;package names&amp;gt;      # å®‰è£…è½¯ä»¶åŒ…&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt-cyg install bind-utils
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;apt-cyg remove &amp;lt;package names&amp;gt;      # ç§»é™¤è½¯ä»¶åŒ…&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;apt-cyg update     # æ›´æ–° setup.ini æ–‡ä»¶&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;apt-cyg show      # åˆ—å‡ºå·²å®‰è£…çš„è½¯ä»¶åŒ…&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;apt-cyg find &amp;lt;pattern(s)&amp;gt;     # æŸ¥æ‰¾åç§°åŒ¹é…çš„è½¯ä»¶åŒ…&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;apt-cyg describe &amp;lt;pattern(s)&amp;gt;     # æŸ¥æ‰¾æè¿°åŒ¹é…çš„è½¯ä»¶åŒ…&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;apt-cyg packageof &amp;lt;commands or files&amp;gt;     # å®šä½å‘½ä»¤æˆ–æ–‡ä»¶å±äºå“ªä¸ªè½¯ä»¶åŒ…&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ apt-cyg packageof dig
Found usr/bin/dig in the package bind-utils
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;apt-cyg     # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ apt-cyg
apt-cyg: Installs and removes Cygwin packages.
&lt;span class="s2"&gt;&amp;quot;apt-cyg install &amp;lt;package names&amp;gt;&amp;quot;&lt;/span&gt; to install packages
&lt;span class="s2"&gt;&amp;quot;apt-cyg remove &amp;lt;package names&amp;gt;&amp;quot;&lt;/span&gt; to remove packages
&lt;span class="s2"&gt;&amp;quot;apt-cyg update&amp;quot;&lt;/span&gt; to update setup.ini
&lt;span class="s2"&gt;&amp;quot;apt-cyg show&amp;quot;&lt;/span&gt; to show installed packages
&lt;span class="s2"&gt;&amp;quot;apt-cyg find &amp;lt;patterns&amp;gt;&amp;quot;&lt;/span&gt; to find packages matching patterns
&lt;span class="s2"&gt;&amp;quot;apt-cyg describe &amp;lt;patterns&amp;gt;&amp;quot;&lt;/span&gt; to describe packages matching patterns
&lt;span class="s2"&gt;&amp;quot;apt-cyg packageof &amp;lt;commands or files&amp;gt;&amp;quot;&lt;/span&gt; to locate parent packages
Options:
--mirror, -m &amp;lt;url&amp;gt; : &lt;span class="nb"&gt;set&lt;/span&gt; mirror
--cache, -c &amp;lt;dir&amp;gt;  : &lt;span class="nb"&gt;set&lt;/span&gt; cache
--file, -f &amp;lt;file&amp;gt;  : &lt;span class="nb"&gt;read&lt;/span&gt; package names from file
--noupdate, -u     : don&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;t update setup.ini from mirror
--help
--version
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ul&gt;</summary><category term="Cygwin"></category></entry><entry><title>pelican ä½¿ç”¨ç¬”è®°</title><link href="https://mozillazg.com/2013/03/pelican-notes.html" rel="alternate"></link><updated>2013-03-04T00:00:00+00:00</updated><author><name>mozillazg</name></author><id>tag:mozillazg.com,2013-03-04:2013/03/pelican-notes.html</id><summary type="html">&lt;p&gt;è®°å½•ä¸€äº›ä½¿ç”¨ Pelican å†™åšå®¢çš„ç»éªŒã€‚&lt;/p&gt;
&lt;h2&gt;Markdown&lt;/h2&gt;
&lt;h3&gt;å¤šçº§åˆ—è¡¨&lt;/h3&gt;
&lt;p&gt;å®˜æ–¹çš„ Markdown è¯­æ³•ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;* list
  * sublist
  * sublist
* list
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;pelican ä½¿ç”¨çš„æ˜¯ python-markdown æ¥è§£æ markdown æ–‡ä»¶ï¼Œ
è€Œ python-markdown çš„å…³äºå¤šçº§åˆ—è¡¨çš„è¯­æ³•è·Ÿå®˜æ–¹çš„æœ‰ç‚¹ä¸ä¸€æ ·ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;* list
    * sublist
    * sublist
* list
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;å­åˆ—è¡¨ä¸çˆ¶åˆ—è¡¨ä¹‹é—´çš„å¯¹é½æ–¹å¼æ˜¯ï¼šè‡³å°‘ç©ºå‡º4ä¸ªç©ºæ ¼æˆ–1ä¸€ä¸ª Tab é”®ã€‚
å®˜æ–¹çš„è¯­æ³•å…¼å®¹ python-markdown çš„è¯­æ³•ï¼Œæ‰€ä»¥ä¸è¦æ‹…å¿ƒå…¼å®¹æ€§ã€‚&lt;/p&gt;
&lt;h3&gt;è¯­æ³•é«˜äº®&lt;/h3&gt;
&lt;p&gt;python-markdown ä½¿ç”¨ pygments æ¥å®ç°è¯­æ³•é«˜äº®çš„åŠŸèƒ½ï¼Œå¹¶ä¸”æ”¯æŒæŒ‡å®šç¼–ç¨‹è¯­è¨€ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼ŒæŒ‡å®šä»£ç ç”¨çš„æ˜¯ Python ç¼–ç¨‹è¯­è¨€ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;:::python
print &amp;#39;hello, world&amp;#39;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æ•ˆæœï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;hello, world&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æˆ‘ç”¨çš„æ¯”è¾ƒå¤šçš„è¯­è¨€æ ‡è®°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;:::text&lt;/li&gt;
&lt;li&gt;:::python&lt;/li&gt;
&lt;li&gt;:::django&lt;/li&gt;
&lt;li&gt;:::html+django&lt;/li&gt;
&lt;li&gt;:::bash&lt;/li&gt;
&lt;li&gt;:::console&lt;/li&gt;
&lt;li&gt;:::nginx&lt;/li&gt;
&lt;li&gt;:::apacheconf&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ›´å¤šçš„è¯­è¨€æ ‡è®°ï¼Œå¯ä»¥é€šè¿‡æŸ¥çœ‹ç½‘ç«™ &lt;a href="http://pygments.org/demo/"&gt;Pygments â€” Python syntax highlighter&lt;/a&gt; çš„æºä»£ç æ“ä½œç›¸å…³çš„è¯­è¨€æ ‡è®°ï¼ˆæŸ¥çœ‹ id ä¸º flt_lang çš„ select çš„ option å€¼ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼šè¯¥è¯­æ³•ä¸å…¼å®¹å®˜æ–¹ markdown è¯­æ³•ã€‚&lt;/p&gt;
&lt;h2&gt;å‚è€ƒ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://docs.getpelican.com/"&gt;Pelican â€” Pelican documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://pythonhosted.org/Markdown/extensions/code_hilite.html"&gt;CodeHilite Extension â€” Python Markdown&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary><category term="pelican"></category><category term="markdown"></category><category term="pygments"></category><category term="python-markdown"></category></entry><entry><title>æ›´æ”¹ phpMyAdmin é»˜è®¤è®¿é—®ç«¯å£(apache2)</title><link href="https://mozillazg.com/2013/02/change-phpmyadmin-default-visit-port.html" rel="alternate"></link><updated>2013-02-27T00:00:00+00:00</updated><author><name>mozillazg</name></author><id>tag:mozillazg.com,2013-02-27:2013/02/change-phpmyadmin-default-visit-port.html</id><summary type="html">&lt;p&gt;å°†è®¿é—® phpMyAdmin çš„ç«¯å£ä»é»˜è®¤çš„ 80 æ”¹ä¸º 8081 ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡çš„ phpmyadmin ç›®å½•ï¼š&lt;code&gt;/var/www/phpmyadmin/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ç¼–è¾‘ apache é…ç½®æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# vi /etc/apache2/sites-available/phpmyadmin&lt;/span&gt;

&amp;lt;VirtualHost *:8081&amp;gt;
    ServerName 127.0.0.1
    DocumentRoot /var/www/phpmyadmin
&amp;lt;/VirtualHost&amp;gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;é…ç½® apache ç›‘å¬ 8081 ç«¯å£ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# vi /etc/apache2/ports.conf&lt;/span&gt;

&lt;span class="c1"&gt;# æ·»åŠ &lt;/span&gt;
NameVirtualHost *:8081
Listen 8081
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;é‡å¯ apache æœåŠ¡ï¼š&lt;code&gt;service apache2 restart&lt;/code&gt;ï¼Œ
ç°åœ¨å¯ä»¥é€šè¿‡ http://ip:8081/phpmyadmin/ è®¿é—® phpMyAdmin äº†ã€‚&lt;/p&gt;
&lt;h2&gt;å‚è€ƒ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://ubuntuforums.org/showthread.php?t=1329607"&gt;PHPMyAdmin Port Change - Ubuntu Forums&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary><category term="phpmyadmin"></category><category term="mysql"></category><category term="ubuntu"></category></entry><entry><title>ä¿®æ”¹ pelican 3.1 ä½¿ä¹‹æ”¯æŒä¸­æ–‡æ–‡ä»¶å¤¹ä½œä¸ºåˆ†ç±»ç›®å½•</title><link href="https://mozillazg.com/2013/01/fix-pelican-use-chinese-folder-as-category.html" rel="alternate"></link><updated>2013-01-31T00:00:00+00:00</updated><author><name>mozillazg</name></author><id>tag:mozillazg.com,2013-01-31:2013/01/fix-pelican-use-chinese-folder-as-category.html</id><summary type="html">&lt;p&gt;å‰æï¼š&lt;/p&gt;
&lt;p&gt;windows + pelican 3.1 + python 2.6    &lt;br /&gt;
å¹¶ä¸” pelican é…ç½®æ–‡ä»¶ä¸­è®¾ç½®äº† &lt;code&gt;USE_FOLDER_AS_CATEGORY = True&lt;/code&gt;ï¼ˆé»˜è®¤ä¸º Trueï¼Œåªè¦ä¸è®¾ç½®ä¸º False å³å¯ï¼‰&lt;/p&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œpelican ä¸æ”¯æŒä¸­æ–‡æ–‡ä»¶å¤¹ä½œä¸ºåˆ†ç±»ç›®å½•ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;d:\myblog&amp;gt;pelican content -o output -s pelicanconf.py -D&lt;/span&gt;
&lt;span class="go"&gt;...&lt;/span&gt;

&lt;span class="go"&gt;CRITICAL: &amp;#39;utf8&amp;#39; codec can&amp;#39;t decode byte 0xd3 in position 2: invalid continuation byte&lt;/span&gt;
&lt;span class="go"&gt;Traceback (most recent call last):&lt;/span&gt;
&lt;span class="go"&gt;  File &amp;quot;C:\Python26\Scripts\pelican-script.py&amp;quot;, line 9, in &amp;lt;module&amp;gt;&lt;/span&gt;
&lt;span class="go"&gt;    load_entry_point(&amp;#39;pelican==3.1&amp;#39;, &amp;#39;console_scripts&amp;#39;, &amp;#39;pelican&amp;#39;)()&lt;/span&gt;
&lt;span class="go"&gt;  File &amp;quot;C:\Python26\lib\site-packages\pelican\__init__.py&amp;quot;, line 319, in main&lt;/span&gt;
&lt;span class="go"&gt;    pelican.run()&lt;/span&gt;
&lt;span class="go"&gt;  File &amp;quot;C:\Python26\lib\site-packages\pelican\__init__.py&amp;quot;, line 152, in run&lt;/span&gt;
&lt;span class="go"&gt;    p.generate_context()&lt;/span&gt;
&lt;span class="go"&gt;  File &amp;quot;C:\Python26\lib\site-packages\pelican\generators.py&amp;quot;, line 337, in generate_context&lt;/span&gt;
&lt;span class="go"&gt;    .decode(&amp;#39;utf-8&amp;#39;)&lt;/span&gt;
&lt;span class="go"&gt;  File &amp;quot;C:\Python26\lib\encodings\utf_8.py&amp;quot;, line 16, in decode&lt;/span&gt;
&lt;span class="go"&gt;    return codecs.utf_8_decode(input, errors, True)&lt;/span&gt;
&lt;span class="go"&gt;UnicodeDecodeError: &amp;#39;utf8&amp;#39; codec can&amp;#39;t decode byte 0xd3 in position 2: invalid continuation byte&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä»é”™è¯¯ä¿¡æ¯ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ° pelican å¯¹æ–‡ä»¶å¤¹åç§°é»˜è®¤æŒ‰ utf8 ç¼–ç è¿›è¡Œè§£ç ï¼Œè€Œåœ¨ windows ä¸‹æ–‡ä»¶ï¼ˆå¤¹ï¼‰åç§°é»˜è®¤æ˜¯æŒ‰ gbk è¿›è¡Œç¼–ç çš„ï¼Œæ‰€ä»¥å°±å‡ºç°äº†ç¼–ç é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æˆ‘ä»¬æ¥ä¿®å¤è¿™ä¸ªé”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;ç¼–è¾‘æ–‡ä»¶ &lt;code&gt;C:\Python26\lib\site-packages\pelican\generators.py&lt;/code&gt; è¿›è¡Œä»¥ä¸‹ä¸¤æ­¥æ“ä½œå³å¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é¦–å…ˆå¯¼å…¥ sys æ¨¡å—ï¼š&lt;code&gt;import sys&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç„¶åç¼–è¾‘ç¬¬ 338 è¡Œå·¦å³çš„&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;category&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;basename&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dirname&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;\
           &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ä¸º&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;category&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;basename&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dirname&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;\
           &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stdin&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encoding&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æ­¤å¤„çš„ä¿®æ”¹æ˜¯ä¸ºäº†è®©ç¨‹åºä½¿ç”¨ç³»ç»Ÿé»˜è®¤çš„è¾“å…¥ç¼–ç ï¼ˆç®€ä½“ä¸­æ–‡ç‰ˆ Windows ä¸‹é»˜è®¤æ˜¯ gbkï¼‰è¿›è¡Œè§£ç ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿›è¡Œç›¸å…³ä¿®æ”¹åï¼Œå†æ¬¡æ‰§è¡Œ &lt;code&gt;pelican content -o output -s pelicanconf.py -D&lt;/code&gt; ç”Ÿæˆ html æ–‡ä»¶ï¼Œæ‰§è¡Œè¿‡ç¨‹ä¸€åˆ‡é¡ºåˆ©ã€‚&lt;/p&gt;
&lt;p&gt;ä½†ä¹Ÿæœ‰ä¸€ä¸ªä¸å®Œç¾çš„åœ°æ–¹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="/static/images/2013-1-pelican-issue-01.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="/static/images/2013-1-pelican-issue-02.png" /&gt;&lt;/p&gt;
&lt;p&gt;è™½ç„¶åœ¨æµè§ˆå™¨ä¸­è¿™ä¸ªä¸ä¼šæ˜¯ä¹±ç ï¼Œä½†çœ‹èµ·æ¥è¿˜æ˜¯æœ‰ç‚¹ä¸çˆ½ã€‚
ä¸‹é¢æˆ‘ä»¬è¦å°†å®ƒå˜æˆä¸­æ–‡æ‹¼éŸ³ï¼Œè¿™æ ·å°±ä¸ä¼šä¹±ç äº†ã€‚&lt;/p&gt;
&lt;p&gt;ç»§ç»­ç¼–è¾‘ generators.py æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯¼å…¥ç›¸å…³æ¨¡å—ï¼š&lt;code&gt;from pelican.utils import slugify&lt;/code&gt; ã€‚
   è¿™ä¸ªæ¨¡å—çš„ä½œç”¨æ˜¯å°†é ASCII å­—ç¬¦è½¬æ¢ä¸º ASCII å­—ç¬¦ï¼Œæ¯”å¦‚ï¼Œå°† &lt;code&gt;ä¸­å›½&lt;/code&gt; è½¬æ¢ä¸º &lt;code&gt;zhong-guo&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;å°† 199 è¡Œå·¦å³çš„&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;cat&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;arts&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;arts&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;attrgetter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;date&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;reverse&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;æ”¹ä¸º&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;cat&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;arts&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;cat&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;slugify&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cat&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;arts&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;attrgetter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;date&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;reverse&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¿®æ”¹åçš„æ•ˆæœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="/static/images/2013-1-pelican-fixed-01.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="/static/images/2013-1-pelican-fixed-02.png" /&gt;&lt;/p&gt;</summary><category term="pelican"></category><category term="python"></category></entry><entry><title>ä½¿ç”¨ Pelican ç”Ÿæˆé™æ€åšå®¢</title><link href="https://mozillazg.com/2013/01/use-pelican-to-generate-static-blog.html" rel="alternate"></link><updated>2013-01-15T00:00:00+00:00</updated><author><name>mozillazg</name></author><id>tag:mozillazg.com,2013-01-15:2013/01/use-pelican-to-generate-static-blog.html</id><summary type="html">&lt;h2&gt;å®‰è£… Pelican&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;sudo pip install pelican&lt;/span&gt;
&lt;span class="go"&gt;sudo pip install webassets&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;ä½¿ç”¨&lt;/h2&gt;
&lt;h3&gt;é…ç½®&lt;/h3&gt;
&lt;h3&gt;ä¸»é¢˜&lt;/h3&gt;</summary><category term="pelican"></category></entry></feed>